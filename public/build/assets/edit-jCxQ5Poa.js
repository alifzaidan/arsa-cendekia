import{r as j,j as e,L as U,S as q}from"./app-k8zswjN4.js";import{B as h}from"./button-DXavOchq.js";import{C as Q}from"./calendar-eoASwa9b.js";import{C as v,a as N,b as y,c as C,d as k,e as _}from"./command-CvbBuEax.js";import{u as X,F as Y,a as t,b as o,c as l,d as m,e as E,f as d,s as Z,o as ee,g as c,h as se}from"./types-BBosLvxd.js";import{I as x}from"./input-Dxh7gntF.js";import{P as f,a as g,b}from"./popover-CeeTXSI4.js";import{S as ae,a as re,b as ne,c as ie,d as L}from"./select-CuoiEqfK.js";import{T as te}from"./textarea-CrTrU_lC.js";import{A as oe}from"./admin-layout-B7LVabza.js";import{c as u}from"./utils-CkV0Qb-V.js";import{A as le}from"./award-ByUQjyZ7.js";import{C as de}from"./calendar-fold-js9uiMa-.js";import{C as w}from"./chevrons-up-down-DX3RI8te.js";import{C as S}from"./index-BV5r0t8n.js";import{C as ce}from"./chevron-down-C51sm_3D.js";import{f as A}from"./format-Bp4OdCl_.js";import"./index-yeKsPfmp.js";import"./index-pHOxZwLY.js";import"./chevron-left-DR-Qbh7z.js";import"./createLucideIcon-D-iNy-Um.js";import"./chevron-right-D9DydK3z.js";import"./index-pXs-r0Ho.js";import"./index-D6V9crY2.js";import"./Combination-BrdjsB_W.js";import"./index-DBFJEYa8.js";import"./index-6vY0h7jb.js";import"./floating-ui.react-dom-CRZWRie3.js";import"./label-C9tmqixz.js";import"./index-Bxzk6A-r.js";import"./index-DQoMunvF.js";import"./chevron-up-BNUmGYtt.js";import"./sonner-CTwMjNNw.js";import"./index-D_K9UrkW.js";import"./breadcrumbs-BRc7dmCI.js";import"./x-Brw5WuUb.js";import"./tooltip-Bn_vQ-Xo.js";import"./index-B-dSN1WG.js";import"./dropdown-menu-BMlwBcR9.js";import"./circle-I3bKzACo.js";import"./user-CuHVlf3H.js";import"./app-sidebar-header-DO7MzF0W.js";import"./monitor-play-BbbNWAOL.js";import"./banknote-BZFCjjfI.js";import"./dollar-sign-BTf5L00t.js";const me=ee({design_id:c().nonempty("Desain sertifikat harus dipilih"),sign_id:c().nonempty("Tanda tangan harus dipilih"),certificate_number:c().nonempty("Nomor sertifikat harus diisi"),title:c().nonempty("Judul sertifikat harus diisi"),description:c().nullable(),header_top:c().nullable(),header_bottom:c().nullable(),issued_date:c().nullable(),period:c().nullable(),program_type:se(["course","webinar"]).refine(r=>r!==void 0,{message:"Jenis program harus dipilih"}),course_id:c().nullable(),webinar_id:c().nullable()});function rs({certificate:r,designs:P,signs:T,courses:J,webinars:B}){const[z,O]=j.useState(!1),[H,F]=j.useState(!1),[K,I]=j.useState(!1),[W,D]=j.useState(!1),$=[{title:"Sertifikat",href:route("certificates.index")},{title:r.title,href:route("certificates.show",{certificate:r.id})},{title:"Edit Sertifikat",href:route("certificates.edit",{certificate:r.id})}],n=X({resolver:Z(me),defaultValues:{design_id:r.design_id??"",sign_id:r.sign_id??"",certificate_number:r.certificate_number??"",title:r.title??"",description:r.description??"",header_top:r.header_top??"",header_bottom:r.header_bottom??"",issued_date:r.issued_date??"",period:r.period??"",program_type:r.program_type,course_id:r.course_id??"",webinar_id:r.webinar_id??""}}),p=n.watch("program_type");function G(s){q.put(route("certificates.update",{certificate:r.id}),s)}const M=()=>{switch(p){case"course":return J;case"webinar":return B;default:return[]}},V=()=>{switch(p){case"course":return"course_id";case"webinar":return"webinar_id";default:return""}},R=()=>{switch(p){case"course":return"Pilih kelas online";case"webinar":return"Pilih webinar";default:return"Pilih program"}};return e.jsxs(oe,{breadcrumbs:$,children:[e.jsx(U,{title:`Edit Sertifikat - ${r.title}`}),e.jsxs("div",{className:"px-4 py-4 md:px-6",children:[e.jsxs("h1",{className:"text-2xl font-semibold",children:["Edit Sertifikat ",r.title]}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl text-sm",children:'Silakan isi form di bawah ini untuk mengedit sertifikat. Setelah selesai, klik tombol "Simpan Perubahan" untuk menyimpan.'}),e.jsx(Y,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(G),className:"grid grid-cols-1 items-start gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{size:16}),e.jsx("h3",{className:"font-medium",children:"Informasi Sertifikat"})]}),e.jsx(t,{control:n.control,name:"certificate_number",render:({field:s})=>e.jsxs(o,{children:[e.jsxs(l,{children:["Nomor Sertifikat ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{children:e.jsx(x,{placeholder:"Contoh: LT-TOACB1/2025",...s,autoComplete:"off"})}),e.jsx(E,{children:"Nomor unik untuk sertifikat ini"}),e.jsx(d,{})]})}),e.jsx(t,{control:n.control,name:"title",render:({field:s})=>e.jsxs(o,{children:[e.jsxs(l,{children:["Judul Sertifikat ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{children:e.jsx(x,{placeholder:"Masukkan judul sertifikat",...s,autoComplete:"off"})}),e.jsx(d,{})]})}),e.jsx(t,{control:n.control,name:"description",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Deskripsi"}),e.jsx(te,{...s,value:s.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan deskripsi sertifikat",autoComplete:"off"}),e.jsx(d,{})]})}),e.jsx(t,{control:n.control,name:"header_top",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Header Atas"}),e.jsx(m,{children:e.jsx(x,{placeholder:"Teks untuk header bagian atas",...s,value:s.value??"",autoComplete:"off"})}),e.jsx(d,{})]})}),e.jsx(t,{control:n.control,name:"header_bottom",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Header Bawah"}),e.jsx(m,{children:e.jsx(x,{placeholder:"Teks untuk header bagian bawah",...s,value:s.value??"",autoComplete:"off"})}),e.jsx(d,{})]})})]}),e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{size:16}),e.jsx("h3",{className:"font-medium",children:"Detail Tambahan"})]}),e.jsx(t,{control:n.control,name:"program_type",render:({field:s})=>e.jsxs(o,{children:[e.jsxs(l,{children:["Jenis Program ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ae,{onValueChange:i=>{s.onChange(i),n.setValue("course_id",""),n.setValue("webinar_id","")},value:s.value,children:[e.jsx(m,{children:e.jsx(re,{children:e.jsx(ne,{placeholder:"Pilih jenis program"})})}),e.jsxs(ie,{children:[e.jsx(L,{value:"course",children:"Kelas Online"}),e.jsx(L,{value:"webinar",children:"Webinar"})]})]}),e.jsx(d,{})]})}),p&&e.jsx(t,{control:n.control,name:V(),render:({field:s})=>{var i;return e.jsxs(o,{className:"flex flex-col",children:[e.jsxs(l,{children:[p==="course"?"Kelas Online":"Webinar"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(f,{open:K,onOpenChange:I,children:[e.jsx(g,{asChild:!0,children:e.jsx(m,{children:e.jsxs(h,{variant:"outline",role:"combobox",className:u("justify-between",!s.value&&"text-muted-foreground"),children:[s.value?(i=M().find(a=>a.id===s.value))==null?void 0:i.title:R(),e.jsx("span",{className:"sr-only",children:"Pilih program"}),e.jsx(w,{className:"opacity-50"})]})})}),e.jsx(b,{className:"p-0",children:e.jsxs(v,{children:[e.jsx(N,{placeholder:`Cari ${p}...`,className:"h-9"}),e.jsxs(y,{children:[e.jsxs(C,{children:["Tidak ada ",p," ditemukan."]}),e.jsx(k,{children:M().map(a=>e.jsxs(_,{value:a.title,onSelect:()=>{n.setValue(V(),a.id),I(!1)},children:[a.title,e.jsx(S,{className:u("ml-auto",a.id===s.value?"opacity-100":"opacity-0")})]},a.id))})]})]})})]}),e.jsx(d,{})]})}}),e.jsx(t,{control:n.control,name:"design_id",render:({field:s})=>{var i;return e.jsxs(o,{className:"flex flex-col",children:[e.jsxs(l,{children:["Desain Sertifikat ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(f,{open:z,onOpenChange:O,children:[e.jsx(g,{asChild:!0,children:e.jsx(m,{children:e.jsxs(h,{variant:"outline",role:"combobox",className:u("justify-between",!s.value&&"text-muted-foreground"),children:[s.value?(i=P.find(a=>a.id===s.value))==null?void 0:i.name:"Pilih desain sertifikat",e.jsx("span",{className:"sr-only",children:"Pilih desain"}),e.jsx(w,{className:"opacity-50"})]})})}),e.jsx(b,{className:"p-0",children:e.jsxs(v,{children:[e.jsx(N,{placeholder:"Cari desain...",className:"h-9"}),e.jsxs(y,{children:[e.jsx(C,{children:"Tidak ada desain ditemukan."}),e.jsx(k,{children:P.map(a=>e.jsxs(_,{value:a.name,onSelect:()=>{n.setValue("design_id",a.id),O(!1)},children:[a.name,e.jsx(S,{className:u("ml-auto",a.id===s.value?"opacity-100":"opacity-0")})]},a.id))})]})]})})]}),e.jsx(d,{})]})}}),e.jsx(t,{control:n.control,name:"sign_id",render:({field:s})=>{var i;return e.jsxs(o,{className:"flex flex-col",children:[e.jsxs(l,{children:["Tanda Tangan ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(f,{open:H,onOpenChange:F,children:[e.jsx(g,{asChild:!0,children:e.jsx(m,{children:e.jsxs(h,{variant:"outline",role:"combobox",className:u("justify-between",!s.value&&"text-muted-foreground"),children:[s.value?(i=T.find(a=>a.id===s.value))==null?void 0:i.name:"Pilih tanda tangan",e.jsx("span",{className:"sr-only",children:"Pilih tanda tangan"}),e.jsx(w,{className:"opacity-50"})]})})}),e.jsx(b,{className:"p-0",children:e.jsxs(v,{children:[e.jsx(N,{placeholder:"Cari tanda tangan...",className:"h-9"}),e.jsxs(y,{children:[e.jsx(C,{children:"Tidak ada tanda tangan ditemukan."}),e.jsx(k,{children:T.map(a=>e.jsxs(_,{value:a.name,onSelect:()=>{n.setValue("sign_id",a.id),F(!1)},children:[a.name,e.jsx(S,{className:u("ml-auto",a.id===s.value?"opacity-100":"opacity-0")})]},a.id))})]})]})})]}),e.jsx(d,{})]})}}),e.jsx(t,{control:n.control,name:"issued_date",render:({field:s})=>e.jsxs(o,{className:"flex flex-col",children:[e.jsx(l,{children:"Tanggal Terbit"}),e.jsxs(f,{open:W,onOpenChange:D,children:[e.jsx(g,{asChild:!0,children:e.jsx(m,{children:e.jsxs(h,{variant:"outline",className:u("justify-between font-normal",!s.value&&"text-muted-foreground"),children:[s.value?A(new Date(s.value),"dd MMMM yyyy"):"Pilih tanggal terbit",e.jsx(ce,{className:"h-4 w-4 opacity-50"})]})})}),e.jsx(b,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(Q,{mode:"single",selected:s.value?new Date(s.value):void 0,onSelect:i=>{i?s.onChange(A(i,"yyyy-MM-dd")):s.onChange(""),D(!1)},captionLayout:"dropdown"})})]}),e.jsx(d,{})]})}),e.jsx(t,{control:n.control,name:"period",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Periode"}),e.jsx(m,{children:e.jsx(x,{placeholder:"Contoh: Januari - Maret 2025",...s,value:s.value??"",autoComplete:"off"})}),e.jsx(E,{children:"Periode berlakunya sertifikat"}),e.jsx(d,{})]})})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(h,{type:"submit",className:"hover:cursor-pointer",children:"Simpan Perubahan"})})]})})]})]})}export{rs as default};
