import{j as e,r as o,S as V}from"./app-C0K1I_jK.js";import{D as A}from"./delete-dialog-yPWaDe6K.js";import{B as N}from"./badge-C28JjXQI.js";import{b as H,B as b}from"./button-C0f-v_s_.js";import{D as X,a as K}from"./dialog-B2WTaC3E.js";import{I as U}from"./input-DDTkEvwP.js";import{c as d}from"./utils-CdAyi53O.js";import{C as W}from"./chevron-left-DzEyRrcd.js";import{c as Y}from"./createLucideIcon-DWBoakhq.js";import{C as T}from"./chevron-right-DI1fXzk1.js";import{S as Z,a as q,b as ee,c as ae,d as y}from"./select-BogcASc-.js";import se from"./edit-CmD5-suX.js";import{S as te}from"./search-qugpJNFS.js";import{F as E}from"./file-text-B3z9zLTW.js";import{C as re}from"./chevron-down-CvGsghYA.js";import{S as ne}from"./square-pen-DK1JKXde.js";import{T as ie}from"./trash-4eczIUPK.js";import{C as le}from"./check-DbTA4r3O.js";import{X as ce}from"./x-Dpjmwsro.js";import"./alert-dialog-de0vtAMA.js";import"./index-7sZO0JmH.js";import"./index-KzWdGhLx.js";import"./index-ckKaZFui.js";import"./Combination-BOkQOgPX.js";import"./index-f6q-RnpV.js";import"./index-BZY2Yx9m.js";import"./index-CsZu0GWq.js";import"./floating-ui.react-dom-BGNFrYFh.js";import"./index-CSVoZn40.js";import"./index-DjYZhB_P.js";import"./index-DmObuSOr.js";import"./chevron-up-BZ7W6mO5.js";import"./input-error-CN9zDaQb.js";import"./label-BeufQ9l8.js";import"./radio-group-BzbwuYTW.js";import"./circle-B3o1emxb.js";import"./textarea-YCmxEH3b.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],me=Y("Ellipsis",oe),D=({className:t,...s})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:d("mx-auto flex w-full justify-center",t),...s});D.displayName="Pagination";const Q=o.forwardRef(({className:t,...s},c)=>e.jsx("ul",{ref:c,className:d("flex flex-row items-center gap-1",t),...s}));Q.displayName="PaginationContent";const v=o.forwardRef(({className:t,...s},c)=>e.jsx("li",{ref:c,className:d("",t),...s}));v.displayName="PaginationItem";const w=({className:t,isActive:s,size:c="icon",...u})=>e.jsx("a",{"aria-current":s?"page":void 0,className:d(H({variant:s?"outline":"ghost",size:c}),t),...u});w.displayName="PaginationLink";const B=({className:t,...s})=>e.jsxs(w,{"aria-label":"Go to previous page",size:"default",className:d("gap-1 pl-2.5",t),...s,children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{children:"Previous"})]});B.displayName="PaginationPrevious";const I=({className:t,...s})=>e.jsxs(w,{"aria-label":"Go to next page",size:"default",className:d("gap-1 pr-2.5",t),...s,children:[e.jsx("span",{children:"Next"}),e.jsx(T,{className:"h-4 w-4"})]});I.displayName="PaginationNext";const L=({className:t,...s})=>e.jsxs("span",{"aria-hidden":!0,className:d("flex h-9 w-9 items-center justify-center",t),...s,children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"More pages"})]});L.displayName="PaginationEllipsis";function Ke({questions:t}){const[s,c]=o.useState(null),[u,k]=o.useState(""),[i,p]=o.useState(1),[x,M]=o.useState(10),[C,$]=o.useState(new Set),J=a=>{V.delete(route("questions.destroy",a),{preserveScroll:!0})},F=a=>{const n=new Set(C);n.has(a)?n.delete(a):n.add(a),$(n)},j=u.trim().toLowerCase(),P=j?t.filter(a=>{var z;const h=(a.question_text||"").toLowerCase().includes(j),r=(z=a.options)==null?void 0:z.some(O=>(O.option_text||"").toLowerCase().includes(j)),g=(a.explanation||"").toLowerCase().includes(j);return h||r||g}):t,m=P.length,l=Math.max(1,Math.ceil(m/x)),f=(i-1)*x,_=Math.min(f+x,m),R=P.slice(f,_);o.useEffect(()=>{const a=Math.max(1,Math.ceil(m/x));i>a&&p(a),i<1&&a>=1&&p(1)},[m,x,i]);const S=a=>{a<1||a>l||p(a)},G=()=>{const a=[];if(l<=7){for(let n=1;n<=l;n++)a.push(n);return a}return i<=4?(a.push(1,2,3,4,5,"ellipsis",l),a):i>=l-3?(a.push(1,"ellipsis",l-4,l-3,l-2,l-1,l),a):(a.push(1,"ellipsis",i-1,i,i+1,"ellipsis",l),a)};return e.jsxs("div",{className:"min-h-full space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-medium",children:["Daftar Pertanyaan (",m,")"]}),e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(U,{value:u,onChange:a=>{k(a.target.value),p(1)},placeholder:"Cari pertanyaan...",className:"h-9 pl-9"}),e.jsx(te,{className:"text-muted-foreground absolute top-1/2 left-2 h-4 w-4 -translate-y-1/2"})]})]}),t.length===0?e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(E,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"Belum ada pertanyaan"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Silakan buat pertanyaan baru untuk quiz ini."})]}):P.length===0?e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(E,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"Tidak ada hasil"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500",children:"Tidak ada pertanyaan yang cocok dengan kata kunci pencarian."}),e.jsx(b,{variant:"outline",onClick:()=>k(""),children:"Hapus Pencarian"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:R.map((a,n)=>{var h;return e.jsxs("div",{className:"overflow-hidden rounded-lg border",children:[e.jsx("div",{className:"p-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsxs(N,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:["Soal ",f+n+1]}),e.jsx(N,{variant:"outline",children:a.type==="multiple_choice"?"Pilihan Ganda":"Benar/Salah"})]}),e.jsx("h3",{className:"mb-2 font-medium text-gray-900",children:a.question_text}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:a.type==="multiple_choice"?`${((h=a.options)==null?void 0:h.length)||0} pilihan jawaban`:"Soal Benar/Salah"}),e.jsx(b,{size:"sm",variant:"ghost",onClick:()=>F(a.id),className:"h-auto p-1 text-gray-500 hover:text-gray-700",children:C.has(a.id)?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{className:"ml-1 text-xs",children:"Sembunyikan Jawaban"})]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx("span",{className:"ml-1 text-xs",children:"Lihat Jawaban"})]})})]})]}),e.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[e.jsxs(X,{open:!!s&&s.id===a.id,onOpenChange:r=>!r&&c(null),children:[e.jsx(K,{asChild:!0,children:e.jsxs(b,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600 hover:bg-blue-50",onClick:()=>c(a),children:[e.jsx(ne,{className:"h-4 w-4"}),"Edit"]})}),s&&s.id===a.id&&e.jsx(se,{question:{...s,options:s.options??[]},setOpen:r=>!r&&c(null)})]}),e.jsx(A,{trigger:e.jsxs(b,{variant:"outline",size:"sm",className:"border-red-200 text-red-600 hover:bg-red-50",children:[e.jsx(ie,{className:"h-4 w-4"}),"Hapus"]}),title:"Apakah Anda yakin ingin menghapus pertanyaan ini?",itemName:a.question_text.length>50?a.question_text.substring(0,50)+"...":a.question_text,onConfirm:()=>J(a.id)})]})]})}),C.has(a.id)&&e.jsxs("div",{className:"border-t bg-gray-50 p-4",children:[a.type==="multiple_choice"&&a.options&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-3 text-sm font-medium text-gray-700",children:"Pilihan Jawaban:"}),e.jsx("div",{className:"space-y-2",children:a.options.map((r,g)=>e.jsxs("div",{className:`flex items-start gap-2 rounded p-2 ${r.is_correct?"border border-green-200 bg-green-100":"border border-gray-200 bg-white"}`,children:[e.jsxs("span",{className:"mt-0.5 text-sm font-medium text-gray-600",children:[String.fromCharCode(65+g),"."]}),e.jsx("span",{className:`text-sm ${r.is_correct?"font-bold text-green-800":"text-gray-700"}`,children:r.option_text}),r.is_correct&&e.jsx(N,{className:"ml-auto border-0 bg-green-600 text-white",children:"Jawaban Benar"})]},r.id))})]}),a.type==="true_false"&&a.options&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-3 text-sm font-medium text-gray-700",children:"Jawaban:"}),e.jsx("div",{className:"space-y-2",children:a.options.map((r,g)=>e.jsxs("div",{className:`flex items-center gap-2 rounded p-2 ${r.is_correct?"border border-green-200 bg-green-100":"border border-gray-200 bg-white"}`,children:[g===0?e.jsx(le,{className:"h-4 w-4 text-green-600"}):e.jsx(ce,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:`text-sm ${r.is_correct?"font-bold text-green-800":"text-gray-700"}`,children:r.option_text}),r.is_correct&&e.jsx(N,{className:"ml-auto border-0 bg-green-600 text-white",children:"Jawaban Benar"})]},r.id))})]}),a.explanation&&e.jsxs("div",{className:"mt-4 rounded-md border border-blue-200 bg-blue-50 p-3",children:[e.jsx("h4",{className:"mb-1 text-sm font-medium text-blue-800",children:"Pembahasan:"}),e.jsx("p",{className:"text-sm text-blue-700",children:a.explanation})]})]})]},a.id)})}),e.jsxs("div",{className:"flex flex-col items-center gap-3 pt-4 sm:flex-row sm:justify-between",children:[e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Menampilkan ",e.jsx("span",{className:"text-foreground font-medium",children:m===0?0:f+1}),"â€“",e.jsx("span",{className:"text-foreground font-medium",children:_})," dari"," ",e.jsx("span",{className:"text-foreground font-medium",children:m})," pertanyaan"]}),e.jsxs("div",{className:"flex flex-col items-center gap-3 sm:flex-row",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground text-sm",children:"Per halaman:"}),e.jsxs(Z,{value:String(x),onValueChange:a=>{const n=parseInt(a,10);isNaN(n)||(M(n),p(1))},children:[e.jsx(q,{className:"h-8 w-[90px]",children:e.jsx(ee,{placeholder:"10"})}),e.jsxs(ae,{children:[e.jsx(y,{value:"10",children:"10"}),e.jsx(y,{value:"20",children:"20"}),e.jsx(y,{value:"30",children:"30"}),e.jsx(y,{value:"50",children:"50"})]})]})]}),e.jsx(D,{children:e.jsxs(Q,{children:[e.jsx(v,{children:e.jsx(B,{href:"#",onClick:a=>{a.preventDefault(),S(i-1)},className:i===1?"pointer-events-none opacity-50":"",size:"default"})}),G().map((a,n)=>e.jsx(v,{children:a==="ellipsis"?e.jsx(L,{}):e.jsx(w,{href:"#",isActive:a===i,onClick:h=>{h.preventDefault(),S(a)},size:"default",children:a})},`${a}-${n}`)),e.jsx(v,{children:e.jsx(I,{href:"#",onClick:a=>{a.preventDefault(),S(i+1)},className:i===l?"pointer-events-none opacity-50":"",size:"default"})})]})})]})]})]})]})}export{Ke as default};
