import{r as L,j as e,L as M,S as o}from"./app-0I1QzVTg.js";import{D as E}from"./delete-dialog-DSZ2l4Hr.js";import{B as m}from"./badge-CjFQCB4e.js";import{B as c}from"./button-D2ZpcnoY.js";import{D as U,a as z,b as W}from"./dialog-x_8xUkrq.js";import{S as $}from"./separator-DFkbzSLT.js";import{T as u,a as g,b as j}from"./tooltip-Bgr99O1S.js";import{A as K}from"./admin-layout-uhp-ZAsE.js";import F from"./edit-ColSOw0A.js";import{S as H}from"./square-pen-Du6ancs-.js";import{T as O}from"./trash-BcpPclEH.js";import{U as R}from"./user-DFjCH8AI.js";import{c as C}from"./createLucideIcon-CstU9H3f.js";import{C as q}from"./calendar-ChXQrJJ2.js";import{D as G}from"./dollar-sign-D30D1dLF.js";import{C as w}from"./credit-card-C4wn-_bD.js";import{B as D,M as _}from"./monitor-play-CKPUeDqI.js";import{P as B}from"./presentation-DuCFxc_8.js";import{C as Y}from"./circle-check-big-Bg27NMmT.js";import{C as Z}from"./clock-CZHKhQei.js";import{U as J}from"./users-DxOrkHQM.js";import{C as Q}from"./circle-play-DHjXsMtX.js";import{C as V}from"./chevron-left-B3Wkr27h.js";import{C as X}from"./chevron-right-c3YFH7gb.js";import"./alert-dialog-Dh5HMS6Z.js";import"./index-gMo3zbQG.js";import"./index-uHisoZSR.js";import"./index-Bota6Y3-.js";import"./Combination-DeKqWJgp.js";import"./utils-liWpcwDK.js";import"./index-57D5-Vr4.js";import"./x-C19WkH_u.js";import"./index-BS3cphgy.js";import"./index-D2fVTj-3.js";import"./floating-ui.react-dom-BJinGOXu.js";import"./index-B7VqJuUm.js";import"./sonner-DAwbnb_L.js";import"./index-_fiB5kas.js";import"./breadcrumbs-D7kDS1RW.js";import"./dropdown-menu-Ba8NYkgA.js";import"./index-C2hMLgem.js";import"./circle-GcGN6Pbe.js";import"./check-Bn2WpFkP.js";import"./app-sidebar-header-Bs1CQ6bQ.js";import"./chevrons-up-down-BUcrswdO.js";import"./user-check-CU66v9ir.js";import"./banknote-BUu1f0Ei.js";import"./input-error-Cgmc7RXS.js";import"./input-BEoPePt1.js";import"./label-B5pGucUU.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],se=C("Mail",ee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],te=C("Phone",ae),f=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s),x=s=>new Date(s).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),re=s=>{const r={paid:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",failed:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"},a={paid:"Lunas",pending:"Pending",failed:"Gagal"};return e.jsx(m,{className:r[s]||r.pending,children:a[s]||s})},ie=s=>s===100?e.jsx(m,{className:"bg-green-100 text-green-800",children:"Selesai"}):s>0?e.jsxs(m,{className:"bg-blue-100 text-blue-800",children:["Berlangsung (",s,"%)"]}):e.jsx(m,{className:"bg-gray-100 text-gray-800",children:"Belum Dimulai"}),v=s=>{const r={course:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",bootcamp:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",webinar:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"},a={course:"Kelas",bootcamp:"Bootcamp",webinar:"Webinar"};return e.jsx(m,{className:r[s]||r.course,children:a[s]||s})},le=s=>{const r=[];return s.courseItems&&r.push(...s.courseItems.map(a=>({type:"course",title:a.course.title,mentor:a.course.user.name,thumbnail:a.course.thumbnail,price:a.course.price}))),s.bootcampItems&&r.push(...s.bootcampItems.map(a=>({type:"bootcamp",title:a.bootcamp.title,mentor:a.bootcamp.user.name,thumbnail:a.bootcamp.thumbnail,price:a.bootcamp.price}))),s.webinarItems&&r.push(...s.webinarItems.map(a=>({type:"webinar",title:a.webinar.title,mentor:a.webinar.user.name,thumbnail:a.webinar.thumbnail,price:a.webinar.price}))),r},y=s=>{switch(s){case"course":return e.jsx(D,{className:"h-4 w-4"});case"bootcamp":return e.jsx(B,{className:"h-4 w-4"});case"webinar":return e.jsx(_,{className:"h-4 w-4"});default:return e.jsx(Q,{className:"h-4 w-4"})}},k=({currentPage:s,lastPage:r,total:a,from:l,to:p,onPageChange:n})=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-muted-foreground text-sm",children:["Menampilkan ",l," sampai ",p," dari ",a," entri"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>n(s-1),disabled:s<=1,children:[e.jsx(V,{className:"h-4 w-4"}),"Sebelumnya"]}),e.jsxs("span",{className:"text-sm",children:["Halaman ",s," dari ",r]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>n(s+1),disabled:s>=r,children:["Selanjutnya",e.jsx(X,{className:"h-4 w-4"})]})]})]});function ts({user:s,invoices:r,enrollments:a,stats:l}){var b,N;const[p,n]=L.useState(!1),P=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Kelola Peserta",href:"/admin/users"},{title:s.name,href:`/admin/users/${s.id}`}],S=t=>{o.get(`/admin/users/${s.id}`,{invoices_page:t},{preserveState:!0})},I=t=>{o.get(`/admin/users/${s.id}`,{enrollments_page:t},{preserveState:!0})},T=()=>{o.delete(route("users.destroy",s.id),{onSuccess:()=>{o.visit("/admin/users")}})};let h="";if(s!=null&&s.phone_number){let t=s.phone_number.replace(/\D/g,"");t.startsWith("0")&&(t="62"+t.substring(1)),h=`https://wa.me/${t}`}return e.jsxs(K,{breadcrumbs:P,children:[e.jsx(M,{title:`Detail Peserta - ${s.name}`}),e.jsxs("div",{className:"space-y-6 px-4 py-4 md:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Detail Peserta"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Informasi lengkap dan aktivitas peserta"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsxs(u,{children:[e.jsx(g,{asChild:!0,children:e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[e.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"w-4 fill-[#25D366]",children:[e.jsx("title",{children:"WhatsApp"}),e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})]}),"WhatsApp"]})})}),e.jsx(j,{children:e.jsx("p",{children:"Hubungi via WhatsApp"})})]}),e.jsxs(U,{open:p,onOpenChange:n,children:[e.jsxs(u,{children:[e.jsx(g,{asChild:!0,children:e.jsx(z,{asChild:!0,children:e.jsxs(c,{variant:"outline",size:"sm",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Edit"]})})}),e.jsx(j,{children:e.jsx("p",{children:"Edit Data Pengguna"})})]}),e.jsx(W,{children:e.jsx(F,{user:{...s,phone_number:s.phone_number??""},setOpen:n})})]}),e.jsxs(u,{children:[e.jsx(g,{asChild:!0,children:e.jsx("div",{children:e.jsx(E,{trigger:e.jsxs(c,{variant:"outline",size:"sm",className:"border-red-200 text-red-600 hover:border-red-300 hover:text-red-700",children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Hapus"]}),title:"Apakah Anda yakin ingin menghapus pengguna ini?",itemName:s.name,onConfirm:T})})}),e.jsx(j,{children:e.jsx("p",{children:"Hapus Pengguna"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx("div",{className:"border-border bg-card text-card-foreground rounded-xl border p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-blue-100",children:s.avatar?e.jsx("img",{src:s.avatar,alt:s.name,className:"h-20 w-20 rounded-full object-cover"}):e.jsx(R,{className:"h-10 w-10 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:s.name}),e.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:((b=s.roles[0])==null?void 0:b.name)==="user"?"Peserta":(N=s.roles[0])==null?void 0:N.name}),e.jsxs("div",{className:"w-full space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(se,{className:"text-muted-foreground h-4 w-4"}),e.jsx("span",{children:s.email})]}),s.phone_number&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(te,{className:"text-muted-foreground h-4 w-4"}),e.jsx("span",{children:s.phone_number})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(q,{className:"text-muted-foreground h-4 w-4"}),e.jsxs("span",{children:["Bergabung ",x(s.created_at)]})]})]})]})}),e.jsxs("div",{className:"border-border bg-card text-card-foreground mt-6 rounded-xl border p-6 shadow-sm",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Statistik"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:"Total Belanja"})]}),e.jsx("span",{className:"font-medium",children:f(l.total_spent)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"Total Transaksi"})]}),e.jsx("span",{className:"font-medium",children:l.total_transactions})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-sm",children:"Kelas Diikuti"})]}),e.jsx("span",{className:"font-medium",children:l.total_courses})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"text-sm",children:"Bootcamp Diikuti"})]}),e.jsx("span",{className:"font-medium",children:l.total_bootcamps})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4 text-pink-600"}),e.jsx("span",{className:"text-sm",children:"Webinar Diikuti"})]}),e.jsx("span",{className:"font-medium",children:l.total_webinars})]}),e.jsx($,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:"Kelas Selesai"})]}),e.jsx("span",{className:"font-medium",children:l.completed_courses})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"text-sm",children:"Kelas Aktif"})]}),e.jsx("span",{className:"font-medium",children:l.active_courses})]})]})]})]}),e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs("div",{className:"border-border bg-card text-card-foreground rounded-xl border p-6 shadow-sm",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Program Yang Diikuti"}),a.data.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(J,{className:"mb-2 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Belum mengikuti program apapun"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 space-y-4",children:a.data.map(t=>{const i=t.course||t.bootcamp||t.webinar;return e.jsxs("div",{className:"flex items-start gap-4 rounded-lg border p-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-gray-100",children:y(t.type)}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium",children:i==null?void 0:i.title}),v(t.type)]}),e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Mentor: ",i==null?void 0:i.user.name]}),e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Bergabung: ",x(t.created_at)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"mb-2",children:f((i==null?void 0:i.price)||0)}),t.type==="course"&&t.progress!==void 0&&ie(t.progress)]})]})})]},t.id)})}),e.jsx(k,{currentPage:a.current_page,lastPage:a.last_page,total:a.total,from:a.from,to:a.to,onPageChange:I})]})]}),e.jsxs("div",{className:"border-border bg-card text-card-foreground rounded-xl border p-6 shadow-sm",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Riwayat Transaksi"}),r.data.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(w,{className:"mb-2 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Belum ada transaksi"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 space-y-4",children:r.data.map(t=>{const i=le(t);return e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium",children:["#",t.invoice_code]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:x(t.created_at)}),t.paid_at&&e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Dibayar: ",x(t.paid_at)]})]}),e.jsxs("div",{className:"text-right",children:[re(t.status),e.jsx("div",{className:"mt-1 font-medium",children:f(t.nett_amount)})]})]}),i.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Item yang dibeli:"}),i.map((d,A)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y(d.type),e.jsx("span",{className:"font-medium",children:d.title}),v(d.type),e.jsxs("span",{className:"text-muted-foreground",children:["- Mentor: ",d.mentor]})]},A))]})]},t.id)})}),e.jsx(k,{currentPage:r.current_page,lastPage:r.last_page,total:r.total,from:r.from,to:r.to,onPageChange:S})]})]})]})]})]})]})}export{ts as default};
