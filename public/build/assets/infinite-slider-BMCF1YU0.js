import{r as E,j as _}from"./app-k8zswjN4.js";import{c as se}from"./utils-CkV0Qb-V.js";import{u as ie}from"./use-motion-value-DHQ-0BEH.js";import{r as oe,j as ae,k as le,n as ue,h as U,o as ce,p as fe,q as me,s as he,t as de,v as pe,V as ge,w as ye,x as ve,y as we,S as Ee,H as Se,z as R,A as be,B as Ae,C as xe,m as Te}from"./proxy-Cbysp9sN.js";function K(e){return typeof e=="object"&&!Array.isArray(e)}function Z(e,t,n,r){return typeof e=="string"&&K(t)?oe(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function ze(e,t,n){return e*(t+1)}function Y(e,t,n,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):r.get(t)??e}const Ve=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e};function ee(e,t){return ae(e)?e[Ve(0,e.length,t)]:e}function Oe(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(ue(e,i),r--)}}function De(e,t,n,r,i,a){Oe(e,i,a);for(let l=0;l<t.length;l++)e.push({value:t[l],at:le(i,a,r[l]),easing:ee(n,l)})}function Le(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function Me(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const Ce="easeInOut";function je(e,{defaultTransition:t={},...n}={},r,i){const a=t.duration||.3,l=new Map,s=new Map,w={},S=new Map;let b=0,c=0,h=0;for(let d=0;d<e.length;d++){const f=e[d];if(typeof f=="string"){S.set(f,c);continue}else if(!Array.isArray(f)){S.set(f.name,Y(c,f.at,b,S));continue}let[A,y,o={}]=f;o.at!==void 0&&(c=Y(c,o.at,b,S));let u=0;const z=(v,p,g,D=0,V=0)=>{const m=He(v),{delay:x=0,times:T=ce(m),type:G="keyframes",repeat:H,repeatType:Ze,repeatDelay:et=0,...re}=p;let{ease:L=t.ease||"easeOut",duration:O}=p;const N=typeof x=="function"?x(D,V):x,F=m.length,W=he(G)?G:i==null?void 0:i[G||"keyframes"];if(F<=2&&W){let M=100;if(F===2&&Re(m)){const C=m[1]-m[0];M=Math.abs(C)}const I={...re};O!==void 0&&(I.duration=de(O));const B=fe(I,M,W);L=B.ease,O=B.duration}O??(O=a);const P=c+N;T.length===1&&T[0]===0&&(T[1]=1);const k=T.length-m.length;if(k>0&&me(T,k),m.length===1&&m.unshift(null),H){O=ze(O,H);const M=[...m],I=[...T];L=Array.isArray(L)?[...L]:[L];const B=[...L];for(let C=0;C<H;C++){m.push(...M);for(let j=0;j<M.length;j++)T.push(I[j]+(C+1)),L.push(j===0?"linear":ee(B,j-1))}Le(T,H)}const X=P+O;De(g,m,L,T,P,X),u=Math.max(N+O,u),h=Math.max(X,h)};if(U(A)){const v=$(A,s);z(y,o,q("default",v))}else{const v=Z(A,y,r,w),p=v.length;for(let g=0;g<p;g++){y=y,o=o;const D=v[g],V=$(D,s);for(const m in y)z(y[m],Ie(o,m),q(m,V),g,p)}}b=c,c+=u}return s.forEach((d,f)=>{for(const A in d){const y=d[A];y.sort(Me);const o=[],u=[],z=[];for(let p=0;p<y.length;p++){const{at:g,value:D,easing:V}=y[p];o.push(D),u.push(pe(0,h,g)),z.push(V||"easeOut")}u[0]!==0&&(u.unshift(0),o.unshift(o[0]),z.unshift(Ce)),u[u.length-1]!==1&&(u.push(1),o.push(null)),l.has(f)||l.set(f,{keyframes:{},transition:{}});const v=l.get(f);v.keyframes[A]=o,v.transition[A]={...t,duration:h,ease:z,times:u,...n}}}),l}function $(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function q(e,t){return t[e]||(t[e]=[]),t[e]}function He(e){return Array.isArray(e)?e:[e]}function Ie(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Be=e=>typeof e=="number",Re=e=>e.every(Be);function Ge(e,t){return e in t}class Ke extends ge{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(Ge(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return ye()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function Ne(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=ve(e)&&!we(e)?new Ee(t):new Se(t);n.mount(e),R.set(e,n)}function Fe(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Ke(t);n.mount(e),R.set(e,n)}function We(e,t){return U(e)||typeof e=="number"||typeof e=="string"&&!K(t)}function te(e,t,n,r){const i=[];if(We(e,t))i.push(be(e,K(t)&&t.default||t,n&&(n.default||n)));else{const a=Z(e,t,r),l=a.length;for(let s=0;s<l;s++){const w=a[s],S=w instanceof Element?Ne:Fe;R.has(w)||S(w);const b=R.get(w),c={...n};"delay"in c&&typeof c.delay=="function"&&(c.delay=c.delay(s,l)),i.push(...Ae(b,{...t,transition:c},{}))}}return i}function Pe(e,t,n){const r=[];return je(e,t,n,{spring:xe}).forEach(({keyframes:a,transition:l},s)=>{r.push(...te(s,a,l))}),r}class ke{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Xe extends ke{then(t,n){return this.finished.finally(t).then(()=>{})}}function _e(e){return Array.isArray(e)&&e.some(Array.isArray)}function Ye(e){function t(n,r,i){let a=[];return _e(n)?a=Pe(n,r,e):a=te(n,r,i,e),new Xe(a)}return t}const J=Ye();function Q(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}function $e({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,l]=E.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=E.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),w=e?typeof e=="number"?e:e.scroll:null,S=e?typeof e=="number"?e:e.resize:null,b=E.useRef(!1);E.useEffect(()=>(b.current=!0,()=>void(b.current=!1)));const[c,h,d]=E.useMemo(()=>{const o=()=>{if(!s.current.element)return;const{left:u,top:z,width:v,height:p,bottom:g,right:D,x:V,y:m}=s.current.element.getBoundingClientRect(),x={left:u,top:z,width:v,height:p,bottom:g,right:D,x:V,y:m};s.current.element instanceof HTMLElement&&r&&(x.height=s.current.element.offsetHeight,x.width=s.current.element.offsetWidth),Object.freeze(x),b.current&&!Ue(s.current.lastBounds,x)&&l(s.current.lastBounds=x)};return[o,S?Q(o,S):o,w?Q(o,w):o]},[l,r,w,S]);function f(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(o=>o.removeEventListener("scroll",d,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function A(){s.current.element&&(s.current.resizeObserver=new i(d),s.current.resizeObserver.observe(s.current.element),t&&s.current.scrollContainers&&s.current.scrollContainers.forEach(o=>o.addEventListener("scroll",d,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{d()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const y=o=>{!o||o===s.current.element||(f(),s.current.element=o,s.current.scrollContainers=ne(o),A())};return Je(d,!!t),qe(h),E.useEffect(()=>{f(),A()},[t,d,h]),E.useEffect(()=>f,[]),[y,a,c]}function qe(e){E.useEffect(()=>{const t=e;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[e])}function Je(e,t){E.useEffect(()=>{if(t){const n=e;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[e,t])}function ne(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some(a=>a==="auto"||a==="scroll")&&t.push(e),[...t,...ne(e.parentElement)]}const Qe=["x","y","top","bottom","left","right","width","height"],Ue=(e,t)=>Qe.every(n=>e[n]===t[n]);function it({children:e,gap:t=16,speed:n=100,speedOnHover:r,direction:i="horizontal",reverse:a=!1,className:l}){const[s,w]=E.useState(n),[S,{width:b,height:c}]=$e(),h=ie(0),[d,f]=E.useState(!1),[A,y]=E.useState(0);E.useEffect(()=>{let u;const v=(i==="horizontal"?b:c)+t,p=a?-v/2:0,g=a?0:-v/2,V=Math.abs(g-p)/s;if(d){const x=Math.abs(h.get()-g)/s;u=J(h,[h.get(),g],{ease:"linear",duration:x,onComplete:()=>{f(!1),y(T=>T+1)}})}else u=J(h,[p,g],{ease:"linear",duration:V,repeat:1/0,repeatType:"loop",repeatDelay:0,onRepeat:()=>{h.set(p)}});return u==null?void 0:u.stop},[A,h,s,b,c,t,d,i,a]);const o=r?{onHoverStart:()=>{f(!0),w(r)},onHoverEnd:()=>{f(!0),w(n)}}:{};return _.jsx("div",{className:se("overflow-hidden",l),children:_.jsxs(Te.div,{className:"flex w-max",style:{...i==="horizontal"?{x:h}:{y:h},gap:`${t}px`,flexDirection:i==="horizontal"?"row":"column"},ref:S,...o,children:[e,e]})})}export{it as I};
