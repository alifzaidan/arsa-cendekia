import{r as n,m as L,j as e,L as I}from"./app-C0K1I_jK.js";import{I as h}from"./input-error-CN9zDaQb.js";import{T as f}from"./text-link-wODdN4yZ.js";import{B as g}from"./button-C0f-v_s_.js";import{I as j}from"./input-DDTkEvwP.js";import{L as b}from"./label-BeufQ9l8.js";import{A as R}from"./auth-layout-EiSYVf8x.js";import{E as S}from"./eye-CV1FLsBz.js";import{E}from"./eye-off-CcVSdKVx.js";import{L as F}from"./loader-circle-d2h-2mD2.js";import"./utils-CdAyi53O.js";import"./index-ckKaZFui.js";import"./index-f6q-RnpV.js";import"./index-KzWdGhLx.js";import"./sonner-Dy6n30eS.js";import"./index-CK5zo55w.js";import"./createLucideIcon-DWBoakhq.js";function Q({status:d,canResetPassword:w}){const[t,v]=n.useState(!1),[a,c]=n.useState(null),{data:l,setData:i,post:N,processing:m,errors:x,reset:k}=L({email:"",password:"",remember:!1,redirect:new URLSearchParams(window.location.search).get("redirect")??""}),C=s=>{s.preventDefault(),N(route("login"),{onFinish:()=>k("password")})};n.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("redirect");if(r)try{const o=new URL(r).searchParams.get("ref");o&&(sessionStorage.setItem("referral_code",o),c(o))}catch(p){console.log("Error parsing redirect URL:",p)}const u=sessionStorage.getItem("referral_code");u&&!a&&c(u),i("redirect",r??"")},[i,a]);const y=()=>{const s=route("register"),r=sessionStorage.getItem("referral_code");return r?`${s}?ref=${r}`:s};return e.jsxs(R,{title:"Login",description:"Masuk ke akun Anda untuk melanjutkan",children:[e.jsx(I,{title:"Login"}),e.jsxs("form",{className:"flex flex-col gap-6",onSubmit:C,children:[a&&a!=="ARS2025"&&e.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-3 dark:border-blue-800 dark:bg-blue-900/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500"}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["ðŸŽ‰ Link referral aktif: ",e.jsx("span",{className:"font-mono font-medium",children:a})]})]}),e.jsx("p",{className:"mt-1 text-xs text-blue-600 dark:text-blue-400",children:"Referral akan otomatis terpakai setelah login"})]}),l.redirect&&e.jsx("input",{type:"hidden",name:"redirect",value:l.redirect}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(b,{htmlFor:"email",children:"Email"}),e.jsx(j,{id:"email",type:"email",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"email",value:l.email,onChange:s=>i("email",s.target.value),placeholder:"email@example.com"}),e.jsx(h,{message:x.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{htmlFor:"password",children:"Password"}),w&&e.jsx(f,{href:route("password.request"),className:"ml-auto text-sm",tabIndex:5,children:"Lupa password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{id:"password",type:t?"text":"password",required:!0,tabIndex:2,autoComplete:"current-password",value:l.password,onChange:s=>i("password",s.target.value),placeholder:"Password",className:"pr-10"}),e.jsxs("button",{type:"button",className:"absolute inset-y-0 right-0 h-full px-3 hover:cursor-pointer",onClick:()=>v(!t),tabIndex:3,children:[t?e.jsx(S,{className:"size-4 text-gray-500"}):e.jsx(E,{className:"size-4 text-gray-500"}),e.jsxs("span",{className:"sr-only",children:[t?"Sembunyikan":"Tampilkan"," password"]})]})]}),e.jsx(h,{message:x.password})]}),e.jsxs(g,{type:"submit",className:"mt-4 w-full",tabIndex:4,disabled:m,children:[m&&e.jsx(F,{className:"h-4 w-4 animate-spin"}),"Masuk"]})]}),e.jsxs("div",{className:"relative my-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background text-muted-foreground px-2",children:"Atau lanjutkan dengan"})})]}),e.jsx("div",{className:"grid grid-cols-1",children:e.jsx(g,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:route("auth.google.redirect"),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 0 48 48",children:[e.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),e.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),e.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),e.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Google"]})})}),e.jsxs("div",{className:"text-muted-foreground text-center text-sm",children:["Belum punya akun?"," ",e.jsx(f,{href:y(),tabIndex:5,children:"Daftar"})]})]}),d&&e.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:d})]})}export{Q as default};
