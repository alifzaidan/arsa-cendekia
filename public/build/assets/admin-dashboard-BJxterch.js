import{r as n,j as e,S as p}from"./app-BfgZ1jJD.js";import{B as M}from"./badge-CQkAYN-A.js";import{B as c}from"./button-BJ2tfxUg.js";import{C as h}from"./calendar-D3tFlogO.js";import{P as b,a as v,b as f}from"./popover-ndYA_jBk.js";import{S as I}from"./separator-OAx4gj7V.js";import{c as j}from"./utils-C1iKCs30.js";import{ParticipantChart as F}from"./participant-chart-BrjktVP3.js";import{RevenueChart as $}from"./revenue-chart-DHQmm3Qk.js";import{D as B}from"./dollar-sign-Dexcs9z8.js";import{E as L,F as A,C as E}from"./filter-vWp0bryh.js";import{T as y}from"./trending-up-jjExbzeR.js";import{c as O}from"./createLucideIcon-DE9Tn2K0.js";import{C as N}from"./calendar-DULIxk6K.js";import{C as k}from"./chevron-down-8e4zqodG.js";import{X as z}from"./x-CquPhaxv.js";import{T as R}from"./trending-down-C4XWQto_.js";import{f as m}from"./format-Bp4OdCl_.js";import{i as w}from"./id-Don4TG_0.js";import"./index-Cmel2OYl.js";import"./index-yQBepqoG.js";import"./chevron-left-D4wjm_3Q.js";import"./chevron-right-BoyAfqJq.js";import"./index-tEHxzkPb.js";import"./floating-ui.react-dom-C37UeumF.js";import"./Combination-Dyc663Sd.js";import"./index-Z40DZPLH.js";import"./card-BdBI1SVR.js";import"./chart-DfpS731x.js";import"./index-Dq44xvsW.js";import"./select-CtTldcuc.js";import"./index-Dn_VzzJM.js";import"./index-W6qf3D2J.js";import"./index-CB0yihhM.js";import"./index-DkgfW9Gg.js";import"./check-A_SiYeLL.js";import"./chevron-up-2CiBOu_Z.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],H=O("Sparkles",K),U=t=>`${t>=0?"+":""}${t.toFixed(1)}%`,W=t=>t>0?"text-green-600":t<0?"text-red-600":"text-gray-600",q=t=>t>0?e.jsx(y,{className:"h-3 w-3"}):t<0?e.jsx(R,{className:"h-3 w-3"}):e.jsx(E,{className:"h-3 w-3"}),d=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(typeof t=="string"?parseFloat(t):t),G=t=>{var s,r;return(s=t.course_items)!=null&&s.length?`Kelas: ${t.course_items[0].course.title}`:(r=t.webinar_items)!=null&&r.length?`Webinar: ${t.webinar_items[0].webinar.title}`:"Produk tidak diketahui"},X=t=>{const s={course:"bg-blue-100 text-blue-700 dark:bg-blue-500/15 dark:text-blue-300",webinar:"bg-purple-100 text-purple-700 dark:bg-purple-500/15 dark:text-purple-300"},r={course:"Kelas",webinar:"Webinar"};return e.jsx(M,{variant:"secondary",className:s[t],children:r[t]})};function Ie({stats:t,filters:s}){const[r,l]=n.useState(()=>s!=null&&s.start_date?new Date(s.start_date+"T00:00:00"):void 0),[i,o]=n.useState(()=>s!=null&&s.end_date?new Date(s.end_date+"T00:00:00"):void 0),[_,x]=n.useState(!1),[D,u]=n.useState(!1),S=()=>{const a={};r&&(a.start_date=m(r,"yyyy-MM-dd")),i&&(a.end_date=m(i,"yyyy-MM-dd")),p.get(route("dashboard"),a,{preserveState:!1,preserveScroll:!0})},C=()=>{l(void 0),o(void 0),p.get(route("dashboard"),{},{preserveState:!1,preserveScroll:!0})},g=r&&i;n.useEffect(()=>{if(s!=null&&s.start_date){const a=new Date(s.start_date+"T00:00:00");l(isNaN(a.getTime())?void 0:a)}else l(void 0);if(s!=null&&s.end_date){const a=new Date(s.end_date+"T00:00:00");o(isNaN(a.getTime())?void 0:a)}else o(void 0)},[s==null?void 0:s.start_date,s==null?void 0:s.end_date]);const T=[{title:"Total Pendapatan",value:d(t.total_revenue),icon:e.jsx(B,{className:"size-5 text-indigo-600 dark:text-indigo-300"}),gradient:"from-indigo-500/15 via-indigo-400/10 to-sky-400/10",subtitle:g&&t.filtered_date_range?`${t.filtered_date_range.start} - ${t.filtered_date_range.end}`:"Semua periode"},{title:"Pendapatan Bulan Ini",value:d(t.revenue_this_month),icon:e.jsx(L,{className:"size-5 text-emerald-600 dark:text-emerald-300"}),gradient:"from-emerald-500/15 via-emerald-400/10 to-teal-400/10",percentage:t.monthly_revenue_change,comparison:` bulan lalu (${d(t.revenue_last_month)})`},{title:"Pendapatan Hari Ini",value:d(t.revenue_today),icon:e.jsx(y,{className:"size-5 text-amber-600 dark:text-amber-300"}),gradient:"from-amber-500/20 via-amber-400/10 to-orange-400/10",percentage:t.daily_revenue_change,comparison:` kemarin (${d(t.revenue_yesterday)})`}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"dark:via-background relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-sky-50 p-6 dark:from-indigo-950/50 dark:to-sky-900/25",children:[e.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[e.jsx("div",{className:"absolute -top-12 -left-10 h-44 w-44 rounded-full bg-indigo-400/20 blur-2xl dark:bg-indigo-600/25"}),e.jsx("div",{className:"absolute right-0 bottom-0 h-60 w-60 rounded-full bg-sky-400/20 blur-3xl dark:bg-sky-700/25"}),e.jsx("div",{className:"absolute top-1/2 left-1/3 h-48 w-48 -translate-y-1/2 rounded-full bg-indigo-300/10 blur-3xl dark:bg-indigo-400/10"})]}),e.jsxs("div",{className:"relative flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"flex items-center gap-2 text-2xl font-semibold tracking-tight",children:["Dashboard Admin",e.jsx(H,{className:"h-5 w-5 text-indigo-500"})]}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Ringkasan performa platform dan aktivitas terbaru."})]}),e.jsxs("div",{className:"flex gap-3 text-xs",children:[e.jsxs("div",{className:"rounded-lg border bg-white/70 px-4 py-2 backdrop-blur dark:bg-white/5",children:["Total Produk: ",e.jsx("span",{className:"font-semibold",children:t.total_courses+t.total_webinars})]}),e.jsxs("div",{className:"rounded-lg border bg-white/70 px-4 py-2 backdrop-blur dark:bg-white/5",children:["Pengguna: ",e.jsx("span",{className:"font-semibold",children:t.total_users.toLocaleString("id-ID")})]})]})]})]}),e.jsxs("div",{className:"dark:via-background relative overflow-hidden rounded-xl border bg-gradient-to-br from-indigo-50/70 via-white to-sky-50/60 p-5 dark:from-indigo-950/40 dark:to-sky-900/25",children:[e.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[e.jsx("div",{className:"absolute top-4 -left-6 h-24 w-24 rounded-full bg-indigo-400/15 blur-xl dark:bg-indigo-600/25"}),e.jsx("div",{className:"absolute right-4 bottom-2 h-28 w-28 rounded-full bg-sky-400/15 blur-xl dark:bg-sky-600/25"})]}),e.jsxs("div",{className:"relative flex flex-col gap-4 2xl:flex-row 2xl:items-end",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Filter Pendapatan"}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[e.jsxs(b,{open:_,onOpenChange:x,children:[e.jsx(v,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:j("w-full justify-between sm:w-[180px]",!r&&"text-muted-foreground"),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),r?m(r,"dd MMM yyyy",{locale:w}):"Tanggal mulai"]}),e.jsx(k,{className:"h-4 w-4"})]})}),e.jsx(f,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(h,{mode:"single",selected:r,captionLayout:"dropdown",onSelect:a=>{l(a),x(!1)},disabled:a=>a>new Date||(i?a>i:!1),initialFocus:!0})})]}),e.jsxs(b,{open:D,onOpenChange:u,children:[e.jsx(v,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:j("w-full justify-between sm:w-[180px]",!i&&"text-muted-foreground"),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),i?m(i,"dd MMM yyyy",{locale:w}):"Tanggal selesai"]}),e.jsx(k,{className:"h-4 w-4"})]})}),e.jsx(f,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(h,{mode:"single",selected:i,captionLayout:"dropdown",onSelect:a=>{o(a),u(!1)},disabled:a=>a>new Date||(r?a<r:!1),initialFocus:!0})})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{onClick:S,disabled:!r||!i,className:"gap-2 bg-indigo-600 hover:bg-indigo-600/90",children:[e.jsx(A,{className:"h-4 w-4"}),"Terapkan"]}),g&&e.jsxs(c,{variant:"outline",onClick:C,className:"gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),"Reset"]})]})]})]}),e.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-3",children:T.map((a,P)=>e.jsxs("div",{className:"group relative overflow-hidden rounded-xl border bg-white/60 p-5 backdrop-blur dark:bg-white/5",children:[e.jsx("div",{className:`pointer-events-none absolute inset-0 bg-gradient-to-br ${a.gradient} opacity-90`}),e.jsxs("div",{className:"relative flex items-start justify-between",children:[e.jsx("h3",{className:"text-sm font-medium",children:a.title}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/70 shadow-sm ring-1 ring-black/5 dark:bg-white/10",children:a.icon})]}),e.jsxs("div",{className:"relative mt-3 space-y-2",children:[e.jsx("div",{className:"text-2xl font-bold tracking-tight",children:a.value}),a.subtitle&&e.jsx("p",{className:"text-muted-foreground text-xs",children:a.subtitle}),a.percentage!==void 0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`flex items-center text-xs font-medium ${W(a.percentage)}`,children:[q(a.percentage),e.jsx("span",{className:"ml-1",children:U(a.percentage)})]}),e.jsx("span",{className:"text-muted-foreground text-xs",children:a.comparison})]})]}),e.jsx("div",{className:"pointer-events-none absolute -top-6 -right-6 h-20 w-20 rounded-full bg-white/40 blur-xl dark:bg-white/10"})]},P))}),e.jsxs("div",{className:"grid gap-6 xl:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 xl:col-span-2",children:[e.jsx("div",{className:"overflow-hidden rounded-xl border bg-white/70 p-5 backdrop-blur dark:bg-white/5",children:e.jsx($,{data:t.monthly_revenue_data})}),e.jsx("div",{className:"overflow-hidden rounded-xl border bg-white/70 p-5 backdrop-blur dark:bg-white/5",children:e.jsx(F,{data:t.participant_data})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"dark:via-background relative overflow-hidden rounded-xl border bg-gradient-to-br from-indigo-50 via-white to-sky-50 p-6 dark:from-indigo-950/40 dark:to-sky-900/25",children:[e.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[e.jsx("div",{className:"absolute -top-4 -left-6 h-28 w-28 rounded-full bg-indigo-400/15 blur-2xl dark:bg-indigo-600/25"}),e.jsx("div",{className:"absolute right-0 bottom-0 h-32 w-32 rounded-full bg-sky-400/15 blur-2xl dark:bg-sky-700/25"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Total Pendaftar"}),e.jsx("div",{className:"mb-1 text-2xl font-bold text-green-600",children:t.total_participants.toLocaleString("id-ID")}),e.jsxs("p",{className:"text-muted-foreground mb-4 text-xs",children:["Bulan ini: ",e.jsx("span",{className:"font-medium",children:t.participants_this_month.toLocaleString("id-ID")})]}),e.jsx(I,{className:"mb-4"}),e.jsx("h4",{className:"text-sm font-semibold",children:"Pendaftar Terbaru"}),e.jsx("div",{className:"mt-4 space-y-5",children:t.recent_sales.length===0?e.jsxs("div",{className:"text-muted-foreground flex flex-col items-center justify-center gap-4 rounded-lg border border-dashed bg-white/70 py-10 text-sm backdrop-blur dark:bg-white/5",children:[e.jsx("img",{src:"/assets/images/not-found.webp",alt:"Kosong",className:"w-36 opacity-80"}),"Belum ada penjualan terbaru."]}):t.recent_sales.slice(0,6).map(a=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-indigo-500/15 to-sky-500/15 text-xs font-semibold",children:a.user.name.substring(0,2).toUpperCase()}),e.jsxs("div",{className:"flex-1 leading-tight",children:[e.jsx("p",{className:"text-sm font-medium",children:a.user.name}),e.jsx("p",{className:"text-muted-foreground text-[11px]",children:G(a)})]}),e.jsx("div",{className:"text-sm font-semibold",children:d(a.nett_amount)})]},a.id))})]})]}),e.jsxs("div",{className:"dark:via-background relative overflow-hidden rounded-xl border bg-gradient-to-br from-indigo-50 via-white to-sky-50 p-6 dark:from-indigo-950/40 dark:to-sky-900/25",children:[e.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[e.jsx("div",{className:"absolute top-4 left-4 h-24 w-24 rounded-full bg-indigo-400/15 blur-xl dark:bg-indigo-600/25"}),e.jsx("div",{className:"absolute right-4 bottom-2 h-28 w-28 rounded-full bg-sky-400/15 blur-xl dark:bg-sky-600/25"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Produk Terpopuler"}),e.jsx("p",{className:"text-muted-foreground mb-4 text-xs",children:"Berdasarkan jumlah pendaftar."}),e.jsx("div",{className:"space-y-4",children:t.popular_products.length===0?e.jsx("div",{className:"text-muted-foreground py-10 text-center text-sm",children:"Belum ada data."}):t.popular_products.slice(0,8).map(a=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm font-medium",children:a.title}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[X(a.type),e.jsx("span",{className:"text-muted-foreground text-[11px]",children:d(a.price)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-sm font-semibold",children:a.enrollment_count}),e.jsx("p",{className:"text-muted-foreground text-[10px]",children:"pendaftar"})]})]},a.id))})]})]})]})]})]})}export{Ie as default};
