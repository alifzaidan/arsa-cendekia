var B=Object.defineProperty;var H=(t,l,s)=>l in t?B(t,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[l]=s;var F=(t,l,s)=>H(t,typeof l!="symbol"?l+"":l,s);import{R as V,j as e,$ as Q,r as N,L as $,S as U}from"./app-k8zswjN4.js";import{B as w}from"./button-DXavOchq.js";import{T as I}from"./triangle-alert-YzQOjXX5.js";import{S as X,w as W,b as O,c as K,d as R,u as G,e as J,f as Y,g as Z,h as ee,x as se,A as te,i as re}from"./breadcrumbs-BRc7dmCI.js";import{N as ne,A as ae}from"./app-sidebar-header-DO7MzF0W.js";import{I as le}from"./icon-CyrjpY36.js";import{A as ie,a as oe,b as de,c as ce}from"./accordion-2ECAgKYd.js";import{P as me}from"./progress-jIEa4Mk8.js";import{c as ue,T as xe,a as he,b as fe}from"./tooltip-Bn_vQ-Xo.js";import{C as S}from"./circle-check-big-DtoXDLpg.js";import{C as pe}from"./circle-I3bKzACo.js";import{C as A}from"./circle-help-C97shrQL.js";import{c as ge}from"./createLucideIcon-D-iNy-Um.js";import{F as je}from"./file-text-CkNYBSsI.js";import{C as be}from"./circle-play-nYhJaFBC.js";import{T as Ne}from"./sonner-CTwMjNNw.js";import{C as ve}from"./chevron-left-DR-Qbh7z.js";import{C as L}from"./chevron-right-D9DydK3z.js";import{C as ye}from"./circle-x-t2etLlIz.js";import{E as D}from"./external-link-D4scEGOA.js";import"./index-yeKsPfmp.js";import"./index-pHOxZwLY.js";import"./utils-CkV0Qb-V.js";import"./index-pXs-r0Ho.js";import"./index-D6V9crY2.js";import"./Combination-BrdjsB_W.js";import"./x-Brw5WuUb.js";import"./dropdown-menu-BMlwBcR9.js";import"./index-6vY0h7jb.js";import"./index-DBFJEYa8.js";import"./floating-ui.react-dom-CRZWRie3.js";import"./index-BV5r0t8n.js";import"./index-B-dSN1WG.js";import"./user-CuHVlf3H.js";import"./chevrons-up-down-DX3RI8te.js";import"./proxy-Cbysp9sN.js";import"./index-DQoMunvF.js";import"./index-D_K9UrkW.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],P=ge("FileDown",ke);class we extends V.Component{constructor(s){super(s);F(this,"retry",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error("Error caught by boundary:",s,a)}render(){if(this.state.hasError){if(this.props.fallback){const s=this.props.fallback;return e.jsx(s,{error:this.state.error,retry:this.retry})}return e.jsxs("div",{className:"bg-muted/40 flex h-full flex-col items-center justify-center rounded-lg p-8 text-center",children:[e.jsx(I,{className:"text-red-500 mb-4 h-16 w-16"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Terjadi Kesalahan"}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Maaf, terjadi kesalahan tak terduga. Silakan coba lagi."}),this.state.error&&e.jsxs("details",{className:"mb-4 text-xs text-muted-foreground",children:[e.jsx("summary",{className:"cursor-pointer",children:"Detail Error"}),e.jsx("pre",{className:"mt-2 text-left bg-gray-100 p-2 rounded text-xs overflow-auto",children:this.state.error.message})]}),e.jsx(w,{onClick:this.retry,children:"Coba Lagi"})]})}return this.props.children}}function Ce({items:t,className:l,...s}){return e.jsx(X,{...s,className:`group-data-[collapsible=icon]:p-0 ${l||""}`,children:e.jsx(W,{children:e.jsx(O,{children:t.map(a=>e.jsx(K,{children:e.jsx(R,{asChild:!0,className:"text-neutral-600 hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100",children:e.jsxs(Q,{href:a.href,children:[a.icon&&e.jsx(le,{iconNode:a.icon,className:"h-5 w-5"}),e.jsx("span",{children:a.title})]})})},a.title))})})})}function Se({courseSlug:t,modules:l,selectedLesson:s,setSelectedLesson:a,onLessonComplete:v,onProgressUpdate:y}){const[r,c]=N.useState(null),{state:f}=G();N.useEffect(()=>{l.length>0&&r===null&&c(l[0].id)},[l,r]);const C=[{title:"Keluar Kelas",href:`/profile/my-courses/${t}`,icon:se}],z={video:e.jsx(be,{className:"text-muted-foreground h-4 w-4"}),text:e.jsx(je,{className:"text-muted-foreground h-4 w-4"}),file:e.jsx(P,{className:"text-muted-foreground h-4 w-4"}),quiz:e.jsx(A,{className:"text-muted-foreground h-4 w-4"})},p=N.useMemo(()=>{const m=l.reduce((k,b)=>k+b.lessons.length,0),g=l.reduce((k,b)=>k+b.lessons.filter(E=>E.isCompleted).length,0),u=m>0?g/m*100:0;return{totalLessons:m,completedLessons:g,progressPercentage:u}},[l]);N.useEffect(()=>{const m=async()=>{var g;try{(await fetch(`/enrollment/progress/${t}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content"))||""},body:JSON.stringify({progress:Math.round(p.progressPercentage)})})).ok&&y&&y(Math.round(p.progressPercentage))}catch(u){console.error("Error updating enrollment progress:",u)}};p.progressPercentage>0&&m()},[p.progressPercentage,t,y]);const T=m=>m.lessons.length>0&&m.lessons.every(g=>g.isCompleted),M=(m,g)=>{for(let u=0;u<m;u++)if(l[u].lessons.some(k=>!k.isCompleted))return!1;for(let u=0;u<g;u++)if(!l[m].lessons[u].isCompleted)return!1;return!0};return e.jsxs(J,{collapsible:"icon",variant:"inset",children:[e.jsx(Y,{children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(O,{children:e.jsx(K,{children:e.jsx(R,{size:"lg",asChild:!0,children:e.jsxs(Q,{href:"/admin/dashboard",prefetch:!0,children:[e.jsx("img",{src:"/assets/images/logo-primary.png",alt:"Arsa Cendekia",className:"block w-12 fill-current dark:hidden"}),e.jsx("img",{src:"/assets/images/logo-secondary.png",alt:"Arsa Cendekia",className:"hidden w-32 fill-current dark:block"})]})})})})})}),e.jsxs(Z,{children:[f==="expanded"&&e.jsx("div",{className:"border-b px-4 py-3",children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:"Progress Pembelajaran"}),e.jsxs("span",{className:"text-muted-foreground",children:[p.completedLessons,"/",p.totalLessons]})]}),e.jsx("div",{className:"mt-2",children:e.jsx(me,{value:p.progressPercentage,className:"h-2 border border-gray-200 bg-white"})}),e.jsx("div",{className:"mt-1 text-right",children:e.jsxs("span",{className:"text-muted-foreground text-xs",children:[Math.round(p.progressPercentage),"% selesai"]})})]})}),e.jsx(ie,{className:"w-full",expandedValue:r,onValueChange:c,children:l.map((m,g)=>e.jsxs(oe,{value:m.id,children:[e.jsx(de,{className:"px-2 text-left text-sm font-semibold hover:no-underline",children:e.jsxs("div",{className:"flex w-full items-center gap-2",children:[f==="collapsed"?e.jsx("span",{className:"flex-1 truncate",children:m.title.length>4?m.title.slice(0,4)+"...":m.title}):e.jsx("span",{className:"flex-1",children:m.title}),T(m)&&e.jsx(S,{className:"h-4 w-4 text-green-600"})]})}),e.jsx(ce,{children:e.jsx("ul",{className:"space-y-1",children:m.lessons.map((u,k)=>{const b=M(g,k);return e.jsx("li",{className:"group",children:e.jsx("div",{className:`flex items-center gap-2 ${f==="collapsed"?"justify-center":""}`,children:e.jsx(ue,{children:e.jsxs(xe,{children:[e.jsx(he,{asChild:!0,children:e.jsxs("button",{onClick:()=>b&&a(u),className:`rounded-md p-2 text-left text-sm transition-colors ${f==="collapsed"?"flex h-10 w-10 items-center justify-center":"flex flex-1 items-center gap-2"} ${(s==null?void 0:s.id)===u.id?"bg-accent text-accent-foreground":b?"text-muted-foreground hover:bg-accent hover:text-foreground":"cursor-not-allowed text-gray-400 opacity-60"}`,disabled:!b,tabIndex:b?0:-1,children:[z[u.type],f==="expanded"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex-1",children:u.title}),u.isCompleted?e.jsx(S,{className:"h-4 w-4 text-green-600"}):e.jsx(pe,{className:"h-4 w-4"})]})]})}),!b&&e.jsx(fe,{side:"right",children:"Silahkan selesaikan materi sebelumnya terlebih dahulu"})]})})})},u.id)})})})]},m.id))})]}),e.jsxs(ee,{children:[e.jsx(Ce,{items:C}),e.jsx(ne,{})]})]})}const ze=({children:t,breadcrumbs:l,courseSlug:s,courseTitle:a,modules:v,selectedLesson:y,setSelectedLesson:r,onLessonComplete:c,...f})=>{const C=async z=>{var p;try{(await fetch(`/lesson/${z}/complete`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((p=document.querySelector('meta[name="csrf-token"]'))==null?void 0:p.getAttribute("content"))||""}})).ok&&(c==null||c(z))}catch(T){console.error("Error completing lesson:",T)}};return e.jsxs(te,{variant:"sidebar",...f,children:[e.jsx(Se,{courseSlug:s,modules:v,selectedLesson:y,setSelectedLesson:r,onLessonComplete:C}),e.jsxs(re,{variant:"sidebar",children:[e.jsx(ae,{breadcrumbs:l,hideSidebarTrigger:!1,courseTitle:a}),t,e.jsx(Ne,{})]})]})};function Te(t){if(!t)return"";const l=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,s=t.match(l);if(s&&s[1])return`https://www.youtube-nocookie.com/embed/${s[1]}?rel=0&modestbranding=1&showinfo=0&controls=1&disablekb=1`;if(t.includes("youtube.com/embed/")){const a=t.replace("youtube.com","youtube-nocookie.com"),v=a.includes("?")?"&":"?";return`${a}${v}rel=0&modestbranding=1&showinfo=0&controls=1&disablekb=1`}return t}function Ee({lesson:t}){const[l,s]=N.useState(!1),a=Te(t.video_url||"");return l||!a||a===t.video_url?e.jsxs("div",{className:"bg-muted/40 flex h-full flex-col items-center justify-center rounded-lg p-8 text-center",children:[e.jsx(D,{className:"text-muted-foreground mb-4 h-16 w-16"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Video External"}),e.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:"Video tidak dapat ditampilkan langsung di halaman ini"}),e.jsx(w,{asChild:!0,children:e.jsxs("a",{href:t.video_url,target:"_blank",rel:"noopener noreferrer",children:["Tonton Video ",e.jsx(D,{className:"ml-2 h-4 w-4"})]})})]}):e.jsx("iframe",{src:a,title:t.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"h-full w-full rounded-lg",loading:"lazy",onError:()=>s(!0),style:{border:"none",outline:"none"}})}function Ae({lesson:t,onStartQuiz:l}){var y,r;const s=(y=t.quizzes)==null?void 0:y[0];if(!s)return e.jsxs("div",{className:"bg-muted/40 flex h-full flex-col items-center justify-center rounded-lg p-8 text-center",children:[e.jsx(A,{className:"text-muted-foreground mb-4 h-16 w-16"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Quiz Belum Tersedia"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Quiz untuk materi ini belum tersedia."})]});const a=s.attempts||[],v=a.find(c=>c.is_passed);return e.jsxs("div",{className:"mx-auto max-w-4xl p-6",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-blue-100 text-blue-600",children:e.jsx(A,{className:"h-8 w-8"})}),e.jsx("h2",{className:"mb-2 text-2xl font-bold",children:s.title}),s.instructions&&e.jsx("p",{className:"text-muted-foreground mb-4",children:s.instructions}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((r=s.questions)==null?void 0:r.length)||0}),e.jsx("div",{className:"text-muted-foreground text-sm",children:"Total Soal"})]}),e.jsx("div",{className:"bg-card flex min-h-[72px] flex-col items-center justify-center rounded-lg border p-4",children:s.time_limit===0?e.jsx("div",{className:"flex h-full min-h-[48px] items-center justify-center text-sm font-semibold text-red-600",children:"Quiz ini tidak memiliki batas waktu"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.time_limit}),e.jsx("div",{className:"text-muted-foreground text-sm",children:"Menit"})]})}),e.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:s.passing_score}),e.jsx("div",{className:"text-muted-foreground text-sm",children:"Nilai Lulus"})]})]})]}),a.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Riwayat Nilai"}),e.jsx("div",{className:"space-y-3",children:a.map((c,f)=>e.jsx("div",{className:`rounded-lg border p-4 ${c.is_passed?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[c.is_passed?e.jsx(S,{className:"h-5 w-5 text-green-600"}):e.jsx(ye,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["Percobaan ",a.length-f,c.is_passed&&e.jsx("span",{className:"ml-2 rounded-full bg-green-100 px-2 py-1 text-xs text-green-700",children:"LULUS"})]}),e.jsx("div",{className:"text-muted-foreground text-sm",children:new Date(c.submitted_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold ${c.is_passed?"text-green-600":"text-red-600"}`,children:c.score}),e.jsxs("div",{className:"text-muted-foreground text-sm",children:[c.correct_answers,"/",c.total_questions," benar"]}),e.jsxs("div",{className:"text-muted-foreground text-sm",children:["Waktu: ",Math.floor(c.time_taken/60),":",(c.time_taken%60).toString().padStart(2,"0")]})]})]})},c.id))})]}),e.jsxs("div",{className:"text-center",children:[v?e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"mb-4 inline-flex items-center gap-2 rounded-lg bg-green-100 px-4 py-2 text-green-600",children:[e.jsx(S,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Anda sudah lulus quiz ini!"})]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Selamat! Anda bisa mengulang quiz ini kapan saja untuk meningkatkan pemahaman."})]}):e.jsx("div",{className:"mb-6",children:a.length>0?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 inline-flex items-center gap-2 rounded-lg bg-amber-100 px-4 py-2 text-amber-600",children:[e.jsx(I,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Belum lulus, jangan menyerah!"})]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Pelajari kembali materi dan coba lagi. Anda bisa mengulang quiz ini tanpa batas."})]}):e.jsx("p",{className:"text-muted-foreground mb-4",children:"Siap untuk mengerjakan quiz? Anda bisa mengulang quiz ini tanpa batas waktu."})}),e.jsx(w,{onClick:l,size:"lg",children:a.length>0?"ðŸ”„ Ulangi Quiz":"ðŸš€ Mulai Quiz"})]})]})}function Me({lesson:t,onQuizComplete:l,courseSlug:s}){const[a,v]=N.useState(!0),[y,r]=N.useState(!1);if(!t)return e.jsx("div",{className:"bg-muted/40 flex h-full items-center justify-center rounded-lg",children:e.jsx("p",{children:"Pilih materi untuk memulai belajar."})});const c=()=>{s?U.get(`/learn/course/${s}/quiz/${t.id}`):(v(!1),r(!0))};switch(t.type){case"video":return e.jsx("div",{className:"aspect-video w-full",children:e.jsx(Ee,{lesson:t})});case"text":return e.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:t.content||""}});case"file":if(!t.attachment)return e.jsxs("div",{className:"bg-muted/40 flex h-full flex-col items-center justify-center rounded-lg p-8 text-center",children:[e.jsx(P,{className:"text-muted-foreground mb-4 h-16 w-16"}),e.jsx("h3",{className:"text-lg font-semibold",children:"File Tidak Tersedia"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"File materi tidak ditemukan."})]});const f=t.is_preview===!0||t.is_preview===1,C=t.attachment&&t.attachment.toLowerCase().endsWith(".pdf");return e.jsxs("div",{className:"w-full",children:[!f&&e.jsx("div",{className:"mb-4 rounded-lg border border-blue-200 bg-blue-50 p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-blue-900",children:"Silahkan download file ini untuk melanjutkan ke materi selanjutnya"}),e.jsx(w,{asChild:!0,className:"flex items-center gap-2",children:e.jsxs("a",{href:`/storage/${t.attachment}`,download:!0,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(P,{className:"h-4 w-4"})," Download File"]})})]})}),e.jsx("div",{className:"h-[600px] w-full",children:C?e.jsx("iframe",{src:`/storage/${t.attachment}#toolbar=0&navpanes=0&scrollbar=0`,title:t.title,className:"h-full w-full rounded-lg border",style:{border:"none",outline:"none"}}):e.jsx("div",{className:"text-muted-foreground flex h-full items-center justify-center text-sm italic",children:"Preview hanya tersedia untuk file PDF."})})]});case"quiz":return e.jsx(we,{children:e.jsx(Ae,{lesson:t,onStartQuiz:c})});default:return e.jsx("div",{children:"Tipe materi tidak dikenal."})}}function gs({course:t}){var m,g,u,k,b,E,_;const l=t.modules&&t.modules.length>0?t.modules:[],[s,a]=N.useState(((m=l[0])==null?void 0:m.lessons[0])||null),[v,y]=N.useState(!1),[r,c]=N.useState(()=>l.map(n=>({...n,lessons:n.lessons.map(d=>{let o=d.isCompleted||!1;return d.type==="quiz"&&d.quizzes&&d.quizzes.length>0&&(o=d.quizzes.some(x=>x.attempts&&x.attempts.some(i=>i.is_passed))),{...d,isCompleted:o}})})));N.useEffect(()=>{const n=window.location.hash;if(n&&n.startsWith("#quiz-")){const d=n.replace("#quiz-",""),o=r.flatMap(h=>h.lessons).find(h=>h.id===d);o&&(a(o),window.history.replaceState(null,"",window.location.pathname),console.log("Kembali ke dashboard quiz:",o.title))}},[r]);const f=async n=>{var d,o;try{if((await fetch(`/lesson/${n}/complete`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"))||""}})).ok){c(i=>i.map(j=>({...j,lessons:j.lessons.map(q=>q.id===n?{...q,isCompleted:!0}:q)})));let x=!1;for(let i=0;i<r.length;i++){for(let j=0;j<r[i].lessons.length;j++)if(r[i].lessons[j].id===n){x=!0,j+1<r[i].lessons.length?a(r[i].lessons[j+1]):i+1<r.length&&r[i+1].lessons.length>0&&a(r[i+1].lessons[0]);break}if(x)break}try{await fetch(`/enrollment/progress/${t.slug}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||""}})}catch(i){console.error("Error updating enrollment progress:",i)}}}catch(h){console.error("Error completing lesson:",h)}},C=[{title:t.title,href:`learn/course/${t.slug}`}],z=n=>{for(const d of r)if(d.lessons.some(o=>o.id===n))return d.title;return""},p=s?e.jsx(Me,{lesson:s,onQuizComplete:f,courseSlug:t.slug}):null;if((s==null?void 0:s.type)==="quiz"&&v)return e.jsxs(e.Fragment,{children:[e.jsx($,{title:(s==null?void 0:s.title)||t.title}),p]});const T=r.every(n=>n.lessons.every(d=>d.isCompleted)),M=(()=>{if(!s||r.length===0)return!1;const n=r[r.length-1];return n.lessons.length===0?!1:s.id===n.lessons[n.lessons.length-1].id})();return e.jsxs(ze,{breadcrumbs:C,courseSlug:t.slug,courseTitle:t.title,modules:r,selectedLesson:s,setSelectedLesson:a,onLessonComplete:f,children:[e.jsx($,{title:(s==null?void 0:s.title)||t.title}),e.jsxs("div",{className:"m-4 h-full",children:[e.jsxs("div",{className:"mb-4",children:[s&&e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-muted-foreground text-sm font-medium",children:z(s.id)})}),e.jsx("h1",{className:"text-2xl font-bold",children:s==null?void 0:s.title})]}),e.jsx("div",{className:"bg-card mb-4 rounded-lg border p-4",children:p}),e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(w,{variant:"outline",onClick:()=>{let n=null,d=!1;for(const o of r){for(let h=0;h<o.lessons.length;h++)if(o.lessons[h].id===(s==null?void 0:s.id)){if(h>0)n=o.lessons[h-1];else{const x=r.indexOf(o);if(x>0){const i=r[x-1];n=i.lessons[i.lessons.length-1]}}d=!0;break}if(d)break}n&&a(n)},disabled:!s||((u=(g=r[0])==null?void 0:g.lessons[0])==null?void 0:u.id)===(s==null?void 0:s.id),className:"gap-2 disabled:cursor-not-allowed",children:[e.jsx(ve,{className:"h-4 w-4"})," Sebelumnya"]})}),s&&s.type==="quiz"?(b=(k=r.find(n=>n.lessons.find(d=>d.id===s.id)))==null?void 0:k.lessons.find(n=>n.id===s.id))!=null&&b.isCompleted?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-green-50 px-4 py-2 text-green-600",children:[e.jsx(S,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Quiz Sudah Lulus"})]}),(()=>{if(!s||r.length===0)return null;const n=r[r.length-1];if(n.lessons.length===0||s.id===n.lessons[n.lessons.length-1].id)return null;let o=null,h=!1;for(const x of r){for(let i=0;i<x.lessons.length;i++)if(x.lessons[i].id===s.id){if(i<x.lessons.length-1)o=x.lessons[i+1];else{const j=r.indexOf(x);j<r.length-1&&(o=r[j+1].lessons[0])}h=!0;break}if(h)break}return o?e.jsxs(w,{variant:"outline",onClick:()=>a(o),className:"gap-2",children:["Selanjutnya ",e.jsx(L,{className:"h-4 w-4"})]}):null})()]}):e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-blue-50 px-4 py-2 text-blue-600",children:[e.jsx(A,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Selesaikan Quiz untuk Melanjutkan"})]}):s&&s.type!=="quiz"&&((_=(E=r.find(n=>n.lessons.find(d=>d.id===s.id)))==null?void 0:E.lessons.find(n=>n.id===s.id))!=null&&_.isCompleted?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-green-50 px-4 py-2 text-green-600",children:[e.jsx(S,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Materi Sudah Selesai"})]}),(()=>{if(!s||r.length===0)return null;const n=r[r.length-1];if(n.lessons.length===0||s.id===n.lessons[n.lessons.length-1].id)return null;let o=null,h=!1;for(const x of r){for(let i=0;i<x.lessons.length;i++)if(x.lessons[i].id===s.id){if(i<x.lessons.length-1)o=x.lessons[i+1];else{const j=r.indexOf(x);j<r.length-1&&(o=r[j+1].lessons[0])}h=!0;break}if(h)break}return o?e.jsxs(w,{variant:"outline",onClick:()=>a(o),className:"gap-2",children:["Selanjutnya ",e.jsx(L,{className:"h-4 w-4"})]}):null})()]}):e.jsxs(w,{onClick:()=>f(s.id),size:"lg",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Selesaikan Materi"]}))]}),T&&M&&e.jsxs("div",{className:"mt-4 flex flex-row items-center justify-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-green-100 px-4 py-2 text-center font-medium text-green-700",children:"Anda sudah menyelesaikan kelas silahkan kembali ke halaman awal untuk mendownload sertifikat"}),e.jsx(w,{asChild:!0,size:"lg",children:e.jsx("a",{href:`/profile/my-courses/${t.slug}`,children:"Kembali ke Halaman Kelas & Download Sertifikat"})})]})]})]})}export{gs as default};
