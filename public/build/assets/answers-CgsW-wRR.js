import{j as e,L as N,S as g}from"./app-BfgZ1jJD.js";import{B as c}from"./button-BJ2tfxUg.js";import{C as f}from"./chevron-left-D4wjm_3Q.js";import{C as m}from"./check-A_SiYeLL.js";import{X as o}from"./x-CquPhaxv.js";import{C as p}from"./circle-help-Dvg0dTjL.js";import"./index-Cmel2OYl.js";import"./index-yQBepqoG.js";import"./utils-C1iKCs30.js";import"./createLucideIcon-DE9Tn2K0.js";function B({quiz:l,attempt:s,answers:j}){const x=()=>{g.get(`/learn/course/${l.course.slug}`)},u=()=>{g.get(`/quiz/${l.id}/start`)};return e.jsxs("div",{className:"bg-background min-h-screen",children:[e.jsx(N,{title:`Pembahasan Quiz: ${l.title}`}),e.jsx("div",{className:"bg-card/50 border-b backdrop-blur",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs(c,{variant:"secondary",size:"sm",onClick:x,className:"gap-2",children:[e.jsx(f,{className:"h-4 w-4"}),"Kembali ke Kelas"]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("h1",{className:"text-xl font-semibold",children:["Pembahasan: ",l.title]}),e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Skor: ",Math.round(s.score)," â€¢ ",s.correct_answers,"/",s.total_questions," benar"]})]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"mx-auto max-w-4xl",children:[e.jsxs("div",{className:"bg-card mb-8 rounded-lg border p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Ringkasan Hasil"}),e.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-sm font-medium ${s.is_passed?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[s.is_passed?e.jsx(m,{className:"h-4 w-4"}):e.jsx(o,{className:"h-4 w-4"}),s.is_passed?"LULUS":"BELUM LULUS"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Math.round(s.score)}),e.jsx("div",{className:"text-muted-foreground text-sm",children:"Nilai Akhir"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.correct_answers}),e.jsx("div",{className:"text-muted-foreground text-sm",children:"Jawaban Benar"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.total_questions-s.correct_answers}),e.jsx("div",{className:"text-muted-foreground text-sm",children:"Jawaban Salah"})]})]})]}),e.jsx("div",{className:"space-y-6",children:j.map((a,b)=>e.jsxs("div",{className:"bg-card rounded-lg border p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold",children:["Soal ",b+1]}),e.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-sm font-medium ${a.is_correct?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[a.is_correct?e.jsx(m,{className:"h-4 w-4"}):e.jsx(o,{className:"h-4 w-4"}),a.is_correct?"Benar":"Salah"]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none font-medium text-gray-900",dangerouslySetInnerHTML:{__html:a.question_text}})}),a.question_image&&e.jsx("div",{className:"mb-6",children:e.jsx("img",{src:a.question_image,alt:"Question",className:"max-h-80 w-full rounded-lg border object-contain shadow-sm"})}),e.jsx("div",{className:"space-y-3",children:a.options.map((r,h)=>{const n=r.is_selected,i=r.is_correct;let t="flex flex-col gap-3 rounded-lg border p-4",d="text-gray-400";return i?(t+=" border-green-200 bg-green-50",d="text-green-600"):n&&!i?(t+=" border-red-200 bg-red-50",d="text-red-600"):t+=" border-gray-200 bg-gray-50",e.jsx("div",{className:t,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1 flex-shrink-0",children:i?e.jsx(m,{className:`h-5 w-5 ${d}`}):n?e.jsx(o,{className:`h-5 w-5 ${d}`}):e.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("span",{className:"flex-shrink-0 font-semibold text-gray-700",children:[String.fromCharCode(65+h),"."]}),r.option_text&&r.option_text.trim()!==""&&e.jsx("div",{className:`prose prose-sm max-w-none ${i?"font-semibold text-green-800":n?"font-medium text-red-700":"text-gray-800"}`,dangerouslySetInnerHTML:{__html:r.option_text}})]}),r.option_image&&e.jsx("div",{className:"mt-3 ml-6",children:e.jsx("img",{src:r.option_image,alt:`Opsi ${String.fromCharCode(65+h)}`,className:"max-h-48 rounded-md border object-contain shadow-sm"})})]})]})},r.id)})}),a.explanation&&e.jsx("div",{className:"mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(p,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"mb-2 font-medium text-blue-900",children:"Pembahasan"}),e.jsx("div",{className:"prose prose-sm max-w-none text-blue-800",dangerouslySetInnerHTML:{__html:a.explanation}})]})]})})]},a.question_id))}),e.jsxs("div",{className:"mt-8 flex flex-col gap-4 sm:flex-row sm:justify-center",children:[e.jsx(c,{onClick:u,size:"lg",className:"gap-2",children:"ðŸ”„ Ulangi Quiz"}),e.jsx(c,{onClick:x,variant:"outline",size:"lg",children:"Kembali ke Kelas"})]})]})})]})}export{B as default};
