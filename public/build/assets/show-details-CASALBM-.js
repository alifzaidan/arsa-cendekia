import{K as N,r as v,j as e}from"./app-0I1QzVTg.js";import{B as _}from"./badge-CjFQCB4e.js";import{B as p}from"./button-D2ZpcnoY.js";import{I as g}from"./input-BEoPePt1.js";import{T as w,d as L,b as r,e as a}from"./table-BAIJCxg1.js";import{r as h}from"./utils-liWpcwDK.js";import{t as c}from"./index-_fiB5kas.js";import{L as k}from"./link-JvGEf2f9.js";import{f as u}from"./format-Bp4OdCl_.js";import{i as j}from"./id-Don4TG_0.js";import"./index-Bota6Y3-.js";import"./index-57D5-Vr4.js";import"./index-uHisoZSR.js";import"./createLucideIcon-CstU9H3f.js";function z({bootcamp:s}){var f;const{auth:t}=N().props,n=t.role.includes("affiliate"),x=v.useMemo(()=>{const i=t.user.affiliate_code,l=(d,m)=>{try{const o=new URL(d);return o.searchParams.set("ref",m),o.toString()}catch{const o=d.includes("?")?"&":"?";return`${d}${o}ref=${m}`}};return n&&i?{registrationUrl:l(s.registration_url,i),bootcampUrl:l(s.bootcamp_url,i)}:{registrationUrl:s.registration_url,bootcampUrl:s.bootcamp_url}},[s.registration_url,s.bootcamp_url,t.user.affiliate_code,n]),y=async()=>{try{await navigator.clipboard.writeText(x.registrationUrl),n?c.success("Link pendaftaran dengan kode afiliasi berhasil disalin!"):c.success("Link pendaftaran berhasil disalin!")}catch{c.error("Gagal menyalin link pendaftaran")}},b=async()=>{try{await navigator.clipboard.writeText(x.bootcampUrl),n?c.success("Link bootcamp dengan kode afiliasi berhasil disalin!"):c.success("Link bootcamp berhasil disalin!")}catch{c.error("Gagal menyalin link bootcamp")}};return e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-medium",children:"Share Link untuk Menerima Pendaftaran"}),n&&e.jsx("div",{className:"rounded-full bg-green-100 px-3 py-1 text-xs font-medium text-green-800",children:"Mode Afiliasi"})]}),n&&e.jsx("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-3 dark:border-blue-800 dark:bg-blue-900/20",children:e.jsx("div",{className:"flex items-start gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Link Afiliasi Otomatis"}),e.jsxs("p",{className:"mt-1 text-sm text-blue-700 dark:text-blue-300",children:["Link di bawah sudah menyertakan kode afiliasi Anda (",t.user.affiliate_code,"). Setiap pendaftaran melalui link ini akan memberikan komisi untuk Anda."]})]})})}),e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Link Pendaftaran ",n&&"(dengan kode afiliasi)"]}),e.jsx(g,{type:"text",value:x.registrationUrl,readOnly:!0,className:"rounded border p-2 text-sm",placeholder:"Link Pendaftaran"}),e.jsxs(p,{type:"button",onClick:y,className:"w-full hover:cursor-pointer",disabled:s.status==="draft"||s.status==="archived",children:[n?"Salin Link Afiliasi Pendaftaran":"Salin Link Pendaftaran"," ",e.jsx(k,{})]})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Link Bootcamp ",n&&"(dengan kode afiliasi)"]}),e.jsx(g,{type:"text",value:x.bootcampUrl,readOnly:!0,className:"rounded border p-2 text-sm",placeholder:"Link Bootcamp"}),e.jsxs(p,{type:"button",onClick:b,className:"w-full hover:cursor-pointer",disabled:s.status==="draft"||s.status==="archived",children:[n?"Salin Link Afiliasi Bootcamp":"Salin Link Bootcamp"," ",e.jsx(k,{})]})]})]}),s.status==="published"?e.jsx("p",{className:"text-muted-foreground text-center text-sm",children:n?"Share link afiliasi diatas ke sosial media, whatsapp, tiktok, landing page, email ataupun channel penjualan lainnya untuk mendapatkan komisi dari setiap pendaftaran":"Share link diatas ke sosial media, whatsapp, tiktok, landing page, email ataupun channel penjualan lainnya untuk menerima order dan pembayaran"}):e.jsx("p",{className:"text-center text-sm text-red-500",children:"Bootcamp ini belum diterbitkan. Silakan terbitkan bootcamp terlebih dahulu untuk membagikan link akses bootcamp."}),n&&s.status==="published"&&e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3 dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("h4",{className:"mb-2 text-sm font-medium",children:"Detail Komisi:"}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Harga Bootcamp:"})," ",h.format(s.price)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Rate Komisi:"})," ",t.user.commission,"%"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Komisi per Penjualan:"})," ",h.format(s.price*(t.user.commission/100))]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Kode Afiliasi:"})," ",t.user.affiliate_code]})]})]}),e.jsx(w,{children:e.jsxs(L,{children:[e.jsxs(r,{children:[e.jsx(a,{children:"Status"}),e.jsx(a,{children:(()=>{const i=s.status;let l="bg-gray-200 text-gray-800";return i==="draft"&&(l="bg-gray-200 text-gray-800"),i==="published"&&(l="bg-blue-100 text-blue-800"),i==="archived"&&(l="bg-zinc-300 text-zinc-700"),e.jsx(_,{className:`capitalize ${l} border-0`,children:i})})()})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Kategori"}),e.jsx(a,{children:(f=s.category)==null?void 0:f.name})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Nama Bootcamp"}),e.jsx(a,{children:s.title})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Harga"}),e.jsx(a,{children:s.price===0?e.jsx("span",{children:"Gratis"}):e.jsxs("span",{children:[s.strikethrough_price>0&&e.jsxs("span",{className:"text-xs text-gray-500 line-through",children:[h.format(s.strikethrough_price)," "]}),e.jsx("span",{className:"text-base font-semibold",children:h.format(s.price)})]})})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Deskripsi"}),e.jsx(a,{children:e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:s.description??"-"}})})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Persyaratan"}),e.jsx(a,{children:e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:s.requirements??"-"}})})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Benefit"}),e.jsx(a,{children:e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:s.benefits??"-"}})})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Kurikulum"}),e.jsx(a,{children:e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:s.curriculum??"-"}})})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Batch"}),e.jsx(a,{children:s.batch??"-"})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Kuota"}),e.jsx(a,{children:s.quota===0?"Tak terbatas":`${s.quota} orang`})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Waktu Pelaksanaan"}),e.jsxs(a,{children:[u(new Date(s.start_date),"dd MMMM yyyy",{locale:j})," - ",u(new Date(s.end_date),"dd MMMM yyyy",{locale:j})]})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Jadwal"}),e.jsx(a,{children:s.schedules&&s.schedules.length>0?e.jsx("ul",{className:"space-y-1",children:s.schedules.map((i,l)=>{var d,m;return e.jsxs("li",{children:[e.jsx("span",{className:"inline-block w-30",children:u(new Date(i.schedule_date),"dd MMM yyyy",{locale:j})}),e.jsx("span",{className:"inline-block w-20 capitalize",children:i.day}),e.jsxs("span",{children:[(d=i.start_time)==null?void 0:d.slice(0,5)," - ",(m=i.end_time)==null?void 0:m.slice(0,5)]})]},l)})}):e.jsx("span",{className:"text-muted-foreground text-sm",children:"Belum ada jadwal."})})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Deadline Pendaftaran"}),e.jsx(a,{children:u(new Date(s.registration_deadline),"dd MMMM yyyy HH:mm",{locale:j})})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Link Group Peserta"}),e.jsx(a,{children:s.group_url??"-"})]}),e.jsxs(r,{children:[e.jsx(a,{children:"Pemateri"}),e.jsxs(a,{children:[e.jsx("div",{children:s.host_name??"-"}),e.jsx("div",{className:"text-muted-foreground text-xs",children:s.host_description??""})]})]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Tools yang Digunakan:"}),s.tools&&s.tools.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-4 md:grid-cols-4 lg:grid-cols-5",children:s.tools.map(i=>e.jsxs("div",{children:[e.jsx("img",{src:i.icon?`/storage/${i.icon}`:"/assets/images/placeholder.png",alt:"Tool Icon",className:"mx-auto my-1 mt-2 h-24 rounded border object-cover"}),e.jsx("h4",{className:"text-center text-sm font-medium",children:i.name})]},i.name))}):e.jsx("span",{className:"text-muted-foreground text-sm",children:"Belum ada tools yang ditentukan."})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Thumbnail:"}),e.jsx("img",{src:s.thumbnail?`/storage/${s.thumbnail}`:"/assets/images/placeholder.png",alt:s.title,className:"my-1 mt-2 h-40 w-64 rounded border object-cover"}),s.thumbnail?null:e.jsx("span",{className:"text-muted-foreground text-sm",children:"Thumbnail belum diunggah."})]})]})}export{z as default};
