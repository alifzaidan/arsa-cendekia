import{r as d,m as M,j as e,L as T}from"./app-k8zswjN4.js";import{B as i}from"./button-DXavOchq.js";import{D as x,a as u,b as F,g as S,c as _,d as E,e as Q}from"./dialog-BuCqyxzX.js";import{I as O}from"./input-Dxh7gntF.js";import{L as B}from"./label-C9tmqixz.js";import{T as P,a as U,b as h,c as j}from"./tabs-BJR-FT8x.js";import{A as H}from"./admin-layout-B7LVabza.js";import{t as f}from"./index-D_K9UrkW.js";import q from"./create-mS2_dYVD.js";import z from"./show-questions-CIw4WtDk.js";import A from"./show-submissions-_qP5EjDO.js";import{P as R}from"./plus-CPA61-ge.js";import{D as V}from"./download-BG_-gCUr.js";import{c as K}from"./createLucideIcon-D-iNy-Um.js";import{U as g}from"./upload-DUGxV6sk.js";import{L as W}from"./loader-circle-DTz9NGK_.js";import{f as Z}from"./format-Bp4OdCl_.js";import{i as $}from"./id-Don4TG_0.js";import"./index-yeKsPfmp.js";import"./index-pHOxZwLY.js";import"./utils-CkV0Qb-V.js";import"./index-pXs-r0Ho.js";import"./index-D6V9crY2.js";import"./Combination-BrdjsB_W.js";import"./x-Brw5WuUb.js";import"./sonner-CTwMjNNw.js";import"./breadcrumbs-BRc7dmCI.js";import"./tooltip-Bn_vQ-Xo.js";import"./index-6vY0h7jb.js";import"./index-DBFJEYa8.js";import"./floating-ui.react-dom-CRZWRie3.js";import"./index-B-dSN1WG.js";import"./index-DQoMunvF.js";import"./dropdown-menu-BMlwBcR9.js";import"./index-BV5r0t8n.js";import"./circle-I3bKzACo.js";import"./user-CuHVlf3H.js";import"./chevron-right-D9DydK3z.js";import"./app-sidebar-header-DO7MzF0W.js";import"./chevrons-up-down-DX3RI8te.js";import"./monitor-play-BbbNWAOL.js";import"./banknote-BZFCjjfI.js";import"./dollar-sign-BTf5L00t.js";import"./input-error-D_1uxFxj.js";import"./radio-group-CDUSeGEG.js";import"./select-CuoiEqfK.js";import"./index-Bxzk6A-r.js";import"./chevron-down-C51sm_3D.js";import"./chevron-up-BNUmGYtt.js";import"./textarea-CrTrU_lC.js";import"./trash-G-yHHm6r.js";import"./delete-dialog-b163FXZu.js";import"./alert-dialog-Dy0pjF4x.js";import"./badge-Ca0m2cg7.js";import"./table-WC9-3sDy.js";import"./edit-C9f79zbu.js";import"./square-pen-BolFRoFG.js";import"./circle-check-big-DtoXDLpg.js";import"./circle-x-t2etLlIz.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],J=K("FileUp",G);function is({course:r,quiz:s,submissions:b=[],flash:t}){const[N,c]=d.useState(!1),[v,l]=d.useState(!1),{data:o,setData:y,post:D,processing:m,errors:a,reset:w}=M({quiz_id:s.id,file:null}),k=[{title:"Kelas Online",href:route("courses.index")},{title:r.title,href:route("courses.show",{course:r.id})},{title:s.title,href:route("quizzes.show",{course:r.id,quiz:s.id})}],C=n=>{var p;const L=((p=n.target.files)==null?void 0:p[0])||null;y("file",L)},I=n=>{n.preventDefault(),D(route("questions.import"),{onSuccess:()=>{l(!1),w()},onError:()=>{}})};return d.useEffect(()=>{t!=null&&t.success&&f.success(t.success),t!=null&&t.error&&f.error(t.error)},[t]),e.jsxs(H,{breadcrumbs:k,children:[e.jsx(T,{title:"Detail Quiz"}),e.jsxs("div",{className:"px-4 py-4 md:px-6",children:[e.jsx("h1",{className:"mb-4 text-2xl font-semibold",children:`Detail ${r.title}`}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-6",children:[e.jsxs(P,{defaultValue:"question",className:"order-last lg:order-first lg:col-span-2",children:[e.jsxs(U,{children:[e.jsx(h,{value:"question",children:"Daftar Pertanyaan"}),e.jsx(h,{value:"submission",children:"Riwayat Pengerjaan"})]}),e.jsx(j,{value:"question",children:e.jsx(z,{questions:s.questions})}),e.jsx(j,{value:"submission",children:e.jsx(A,{submissions:b})})]}),e.jsxs("div",{className:"order-first lg:order-last",children:[e.jsx("h2",{className:"my-2 text-lg font-medium",children:"Informasi Quiz"}),e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsxs(x,{open:N,onOpenChange:c,children:[e.jsx(u,{asChild:!0,children:e.jsxs(i,{className:"w-full hover:cursor-pointer",children:["Tambah Pertanyaan",e.jsx(R,{})]})}),e.jsx(q,{setOpen:c,quizId:s.id})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[e.jsx(i,{variant:"outline",asChild:!0,className:"w-full border-blue-200 bg-blue-50 text-blue-600 hover:bg-blue-100 hover:text-blue-700",children:e.jsxs("a",{href:"/assets/templates/template_import_soal.xlsx",className:"",children:[e.jsx(V,{className:"h-4 w-4"}),"Template"]})}),e.jsxs(x,{open:v,onOpenChange:l,children:[e.jsx(u,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"w-full",children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Import"]})}),e.jsx(F,{className:"sm:max-w-[425px]",children:e.jsxs("form",{onSubmit:I,children:[e.jsxs(S,{children:[e.jsx(_,{children:"Import Soal dari Excel"}),e.jsxs(E,{children:['Upload file Excel (.xlsx, .xls, .csv) yang berisi data soal untuk diimport ke dalam quiz "',s.title,'".']})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(B,{htmlFor:"file",children:"File Excel"}),e.jsx(O,{id:"file",type:"file",accept:".xlsx,.xls,.csv",onChange:C,className:"file:rounded file:border-0 file:bg-blue-50 file:px-2 hover:cursor-pointer hover:file:bg-blue-100"}),(a==null?void 0:a.file)&&e.jsx("p",{className:"text-sm text-red-500",children:a.file})]}),o.file&&e.jsxs("div",{className:"rounded-md bg-green-50 p-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:"mr-2 h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:o.file.name})]}),e.jsx("p",{className:"mt-1 text-xs text-green-600",children:"File siap untuk diimport"})]})]}),e.jsxs(Q,{children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:m,children:"Batal"}),e.jsx(i,{type:"submit",disabled:m||!o.file,children:m?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengimport..."]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),"Import Soal"]})})]})]})})]})]}),e.jsx("h3",{className:"mt-4 text-lg font-semibold",children:s.title}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s.instructions?s.instructions:"Belum ada instruksi yang ditampilkan ke peserta."}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Batas Waktu:"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.time_limit," menit"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Nilai Lulus:"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.passing_score," poin"]})]})]})]})]})]}),e.jsx("div",{className:"mt-4 rounded-lg border p-4",children:e.jsxs("h3",{className:"text-muted-foreground text-center text-sm",children:["Dibuat pada : ",Z(new Date(s.created_at),"dd MMMM yyyy HH:mm",{locale:$})]})})]})]})}export{is as default};
