import{r as l,j as e,L as b}from"./app-0I1QzVTg.js";import{t as j}from"./index-_fiB5kas.js";import{B as y}from"./button-D2ZpcnoY.js";import{D as S,b as v}from"./dialog-x_8xUkrq.js";import{X as k}from"./x-C19WkH_u.js";import{U as N}from"./user-layout-BNhF3X2t.js";import _ from"./about-section-BixkVUd3.js";import E from"./carousel-section-DnvTwRy_.js";import D from"./cta-section-BD1YyKFY.js";import A from"./faq-section-DaUa_IuU.js";import L from"./latest-products-section-D_jE788m.js";import P from"./program-section-BZ48N34f.js";import M from"./testimony-section-twHjlDP1.js";import T from"./tools-section-TrZs-aQ3.js";import"./index-uHisoZSR.js";import"./index-Bota6Y3-.js";import"./index-57D5-Vr4.js";import"./utils-liWpcwDK.js";import"./index-gMo3zbQG.js";import"./Combination-DeKqWJgp.js";import"./createLucideIcon-CstU9H3f.js";import"./sonner-DAwbnb_L.js";import"./breadcrumbs-D7kDS1RW.js";import"./tooltip-Bgr99O1S.js";import"./index-D2fVTj-3.js";import"./index-BS3cphgy.js";import"./floating-ui.react-dom-BJinGOXu.js";import"./index-B7VqJuUm.js";import"./dropdown-menu-Ba8NYkgA.js";import"./index-C2hMLgem.js";import"./circle-GcGN6Pbe.js";import"./check-Bn2WpFkP.js";import"./user-DFjCH8AI.js";import"./chevron-right-c3YFH7gb.js";import"./icon-DCFX0qpW.js";import"./index-ByifcKOL.js";import"./badge-CjFQCB4e.js";import"./command-B6NJ2fw6.js";import"./circle-check-big-Bg27NMmT.js";import"./clock-CZHKhQei.js";import"./house-CW1yAxLJ.js";import"./monitor-play-CKPUeDqI.js";import"./presentation-DuCFxc_8.js";import"./use-motion-value-CNbha_3D.js";import"./proxy-zP6cqgOq.js";import"./use-spring-D6McU5DY.js";import"./index-Bs9Pwp-6.js";import"./chevron-left-B3Wkr27h.js";import"./accordion-B8icujo1.js";import"./chevron-up-B02KnPY6.js";import"./spotlight-BMCnXkwP.js";import"./star-Dgx6K6QM.js";import"./calendar-ChXQrJJ2.js";import"./badge-check-xDup0vpw.js";import"./infinite-slider-vNA0Lspc.js";const x=["Ahmad Rizki","Siti Nurhaliza","Budi Santoso","Maya Sari","Andi Pratama","Dewi Lestari","Reza Fauzi","Indira Putri","Fajar Nugroho","Rina Maharani","Dimas Aditya","Lina Kartika","Arief Rahman","Tia Permata","Yoga Saputra","Nita Sari","Bayu Wijaya","Safira Anggraini","Hendra Gunawan","Mira Oktavia","Alif Firmansyah","Putri Wulandari","Irfan Hakim","Sari Melati","Doni Setiawan"];function C({products:t}){const[s,n]=l.useState(!0);return l.useEffect(()=>{if(!t||t.length===0)return;const r=()=>{const o=t[Math.floor(Math.random()*t.length)],m=x[Math.floor(Math.random()*x.length)],c=o.type==="course"?"Kelas Online":o.type==="bootcamp"?"Bootcamp":"Webinar";j.success(e.jsx("div",{className:"flex w-full min-w-0 items-start space-x-3",children:e.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-gray-900",children:e.jsx("span",{className:"font-semibold",children:m})}),e.jsxs("span",{className:"text-xs leading-relaxed break-words text-gray-500",children:["Baru saja membeli ",c,": "]}),e.jsx("span",{className:"text-xs leading-relaxed font-medium break-words text-gray-700",children:o.title})]})}),{duration:5e3,position:"bottom-left",style:{background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",maxWidth:"350px",width:"350px",padding:"12px",wordBreak:"break-word",overflowWrap:"break-word"}})},i=setTimeout(r,1e4),a=setInterval(()=>{s&&r()},Math.random()*3e4+3e4);return()=>{clearTimeout(i),clearInterval(a)}},[t,s]),l.useEffect(()=>{const r=()=>{const a=window.scrollY+window.innerHeight,o=document.documentElement.scrollHeight;a>=o*.8?n(!1):n(!0)},i=()=>{n(!document.hidden)};return window.addEventListener("scroll",r),document.addEventListener("visibilitychange",i),()=>{window.removeEventListener("scroll",r),document.removeEventListener("visibilitychange",i)}},[]),null}function I({promotion:t,suppressDuration:s=24}){const[n,r]=l.useState(!1),[i,a]=l.useState(!1);l.useEffect(()=>{if(!t)return;const d=`promotion_${t.id}_dismissed`,f=localStorage.getItem(d);let u=!0;if(f){const p=new Date(f);(new Date().getTime()-p.getTime())/(1e3*60*60)<s&&(u=!1)}const h=new Date,g=new Date(t.start_date),w=new Date(t.end_date);if((h<g||h>w||!t.is_active)&&(u=!1),u){const p=setTimeout(()=>{r(!0)},2e3);return()=>clearTimeout(p)}},[t,s]);const o=()=>{r(!1);const d=`promotion_${t.id}_dismissed`;localStorage.setItem(d,new Date().toISOString())},m=()=>{t.url_redirect&&(!t.url_redirect.startsWith("/")&&!t.url_redirect.startsWith(window.location.origin)?window.open(t.url_redirect,"_blank","noopener,noreferrer"):window.location.href=t.url_redirect),o()},c=d=>{d.stopPropagation()};return t?e.jsx(S,{open:n,onOpenChange:r,children:e.jsx(v,{className:"flex h-[85vh] flex-col border-0 bg-transparent p-0 shadow-none",onClick:c,children:e.jsxs("div",{className:"relative flex h-full flex-col",children:[e.jsx(y,{onClick:o,variant:"secondary",size:"icon",className:"absolute -top-4 right-2 z-10 h-8 w-8 rounded-full bg-white shadow-lg hover:bg-gray-100",children:e.jsx(k,{className:"h-4 w-4"})}),e.jsxs("div",{className:"group relative flex min-h-0 flex-1 cursor-pointer items-center justify-center overflow-hidden rounded-lg",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onClick:m,children:[e.jsx("img",{src:t.promotion_flyer,alt:"Promosi Aksademy",className:`max-h-full max-w-full rounded-2xl object-contain transition-all duration-300 ${i?"brightness-90":""}`,onError:()=>{console.error("Error loading promotion image"),o()}}),e.jsx("div",{className:`absolute right-8 bottom-4 transition-all duration-300 ${i?"opacity-100":"opacity-60"}`,children:e.jsxs("div",{className:"rounded-full bg-white/90 px-3 py-1 text-xs font-medium text-gray-700 shadow-sm backdrop-blur-sm",children:["Klik untuk ",t.url_redirect?"detail":"tutup"]})})]})]})})}):null}function Fe({tools:t,latestProducts:s,myProductIds:n,allProducts:r,activePromotion:i,referralInfo:a}){return l.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("ref");m?sessionStorage.setItem("referral_code",m):a.code&&sessionStorage.setItem("referral_code",a.code)},[a]),e.jsxs(N,{children:[e.jsx(b,{title:"Beranda"}),i&&e.jsx(I,{promotion:i,suppressDuration:3}),e.jsx(E,{}),e.jsx(_,{}),e.jsx(P,{}),e.jsx(T,{tools:t}),e.jsx(L,{latestProducts:s,myProductIds:n}),e.jsx(M,{}),e.jsx(A,{}),e.jsx(D,{}),typeof window<"u"&&window.innerWidth>=1024&&e.jsx(C,{products:r}),e.jsx("a",{href:"https://wa.me/+6285142505794?text=Halo%20Admin%20Aksademy,%20saya%20ingin%20bertanya%20tentang%20kelas%20online.",target:"_blank",rel:"noopener noreferrer",className:"fixed right-4 bottom-18 z-50 flex h-12 w-12 animate-bounce items-center justify-center rounded-full bg-green-100 shadow-lg transition duration-1000 hover:bg-green-200 md:right-10 md:h-16 md:w-16 lg:bottom-6","aria-label":"Chat WhatsApp",children:e.jsx("img",{src:"/assets/images/icon-wa.svg",alt:"WhatsApp",className:"h-8 w-8 md:h-12 md:w-12"})})]})}export{Fe as default};
