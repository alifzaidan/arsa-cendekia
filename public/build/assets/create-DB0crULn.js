import{r as u,j as e,L as se,S as ne}from"./app-0I1QzVTg.js";import{B as f}from"./button-D2ZpcnoY.js";import{a as _,C as F}from"./calendar-C7CkyaD-.js";import{C as oe}from"./checkbox-BahJMLR_.js";import{C as le,a as ie,b as ce,c as me,d as de,e as ue}from"./command-B6NJ2fw6.js";import{u as he,F as pe,a as n,b as o,c as l,d as b,e as i,f as v}from"./form-B8Qa-gsK.js";import{I as p}from"./input-BEoPePt1.js";import{L as xe}from"./label-B5pGucUU.js";import{P as k,a as C,b as y}from"./popover-OVqhZvMy.js";import{S as ge}from"./switch-BlNXEUgw.js";import{T as P}from"./textarea-BFAtLBqy.js";import{A as je}from"./admin-layout-uhp-ZAsE.js";import{c as K,r as R,p as H}from"./utils-liWpcwDK.js";import{s as be,o as fe,a as ve,n as w,b as d,c as ke}from"./types-UNewp8nY.js";import{E as M}from"./Editor-D8g_pGjt.js";import{t as U}from"./index-_fiB5kas.js";import Ce from"./schedule-input-eJfqIIA2.js";import{s as ye,a as we,b as Ne}from"./setSeconds-Bkh18Hr9.js";import{B as Se}from"./book-marked-Sfv7IM9D.js";import{C as De}from"./chevrons-up-down-BUcrswdO.js";import{C as _e}from"./check-Bn2WpFkP.js";import{C as Fe}from"./calendar-fold-CUsLfNkp.js";import{C as T}from"./chevron-down-B9nJkVIc.js";import"./index-Bota6Y3-.js";import"./index-57D5-Vr4.js";import"./format-Bp4OdCl_.js";import"./chevron-left-B3Wkr27h.js";import"./createLucideIcon-CstU9H3f.js";import"./chevron-right-c3YFH7gb.js";import"./index-BS3cphgy.js";import"./index-uHisoZSR.js";import"./index-D2fVTj-3.js";import"./floating-ui.react-dom-BJinGOXu.js";import"./index-ByifcKOL.js";import"./index-B7VqJuUm.js";import"./index-gMo3zbQG.js";import"./Combination-DeKqWJgp.js";import"./dialog-x_8xUkrq.js";import"./x-C19WkH_u.js";import"./sonner-DAwbnb_L.js";import"./breadcrumbs-D7kDS1RW.js";import"./tooltip-Bgr99O1S.js";import"./dropdown-menu-Ba8NYkgA.js";import"./index-C2hMLgem.js";import"./circle-GcGN6Pbe.js";import"./user-DFjCH8AI.js";import"./app-sidebar-header-Bs1CQ6bQ.js";import"./user-check-CU66v9ir.js";import"./users-DxOrkHQM.js";import"./monitor-play-CKPUeDqI.js";import"./presentation-DuCFxc_8.js";import"./banknote-BUu1f0Ei.js";import"./dollar-sign-D30D1dLF.js";import"./index-DLSjWhDk.js";import"./calendar-ChXQrJJ2.js";import"./plus-DnXklWU2.js";const Pe=[{title:"Bootcamp",href:route("bootcamps.index")},{title:"Tambah Bootcamp Baru",href:route("bootcamps.create")}],Me=fe({title:d().nonempty("Judul harus diisi"),category_id:d().nonempty("Kategori harus dipilih"),description:d().nullable(),benefits:d().nullable(),requirements:d().nullable(),curriculum:d().nullable(),thumbnail:ke().nullable(),start_date:d(),end_date:d(),registration_deadline:d(),host_name:d().nullable(),host_description:d().nullable(),strikethrough_price:w().min(0),price:w().min(0),quota:w().min(0),group_url:d().nullable(),batch:w().min(0),tools:ve(d()).optional()}).refine(j=>j.strikethrough_price>0?j.strikethrough_price>j.price:!0,{message:"Harga coret harus lebih besar dari harga normal.",path:["strikethrough_price"]});function Ba({categories:j,tools:Y}){const[G,I]=u.useState(!1),[J,B]=u.useState(!1),[W,E]=u.useState(!1),[Q,L]=u.useState(!1),[q,X]=u.useState(!1),[Z,O]=u.useState(null),[ee,N]=u.useState(!1),[$,ae]=u.useState([]),V=new Date,z=_(V,7),te=_(z,2);let x=_(V,6);x=ye(x,23),x=we(x,59),x=Ne(x,0);const s=he({resolver:be(Me),defaultValues:{title:"",category_id:"",description:"",benefits:`<ul>
                        <li>Mendapatkan materi eksklusif (Contoh)</li>
                        <li>Sertifikat peserta (Contoh)</li>
                        <li>Akses ke grup diskusi (Contoh)</li>
                    </ul>`,requirements:`<ul>
                        <li>Memiliki laptop (Contoh)</li>
                        <li>Koneksi internet stabil (Contoh)</li>
                        <li>Minat belajar teknologi (Contoh)</li>
                    </ul>`,curriculum:`<ul>
                        <li>Pengenalan Bootcamp (Contoh)</li>
                        <li>Materi Utama (Contoh)</li>
                        <li>Praktik Langsung (Contoh)</li>
                        <li>Tanya Jawab (Contoh)</li>
                    </ul>`,thumbnail:"",start_date:z.toISOString(),end_date:te.toISOString(),registration_deadline:x.toISOString(),host_name:"",host_description:"",strikethrough_price:0,price:0,quota:0,group_url:"",batch:1,tools:[]}}),h=s.watch("start_date"),g=s.watch("end_date");u.useEffect(()=>{if(!h||!g)return;const a=new Date(h);new Date(g)<a&&s.setValue("end_date",h,{shouldDirty:!0,shouldValidate:!0})},[h,g]);function S(a){return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}function re(a){ne.post(route("bootcamps.store"),{...a,schedules:$},{forceFormData:!0})}return e.jsxs(je,{breadcrumbs:Pe,children:[e.jsx(se,{title:"Tambah Bootcamp Baru"}),e.jsxs("div",{className:"px-4 py-4 md:px-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Tambah Bootcamp Baru"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl text-sm",children:'Silakan isi form di bawah ini untuk membuat bootcamp baru. Setelah selesai, klik tombol "Simpan Draft" untuk menyimpan bootcamp sebagai draft.'}),e.jsx(pe,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(re),className:"grid grid-cols-1 items-start gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{size:16}),e.jsx("h3",{className:"font-medium",children:"Detail Informasi Bootcamp"})]}),e.jsx(n,{control:s.control,name:"title",render:({field:a})=>e.jsxs(o,{children:[e.jsxs(l,{children:["Judul Bootcamp ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(b,{children:e.jsx(p,{placeholder:"Masukkan judul bootcamp",...a,autoComplete:"off"})}),e.jsx(i,{})]})}),e.jsx(n,{control:s.control,name:"category_id",render:({field:a})=>{var t;return e.jsxs(o,{className:"flex flex-col",children:[e.jsxs(l,{children:["Kategori ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(k,{open:G,onOpenChange:I,children:[e.jsx(C,{asChild:!0,children:e.jsx(b,{children:e.jsxs(f,{variant:"outline",role:"combobox",className:K("justify-between",!a.value&&"text-muted-foreground"),children:[a.value?(t=j.find(r=>r.id===a.value))==null?void 0:t.name:"Pilih kategori",e.jsx("span",{className:"sr-only",children:"Pilih kategori"}),e.jsx(De,{className:"opacity-50"})]})})}),e.jsx(y,{className:"p-0",children:e.jsxs(le,{children:[e.jsx(ie,{placeholder:"Cari kategori...",className:"h-9"}),e.jsxs(ce,{children:[e.jsx(me,{children:"Tidak ada kategori ditemukan."}),e.jsx(de,{children:j.map(r=>e.jsxs(ue,{value:r.name,onSelect:()=>{s.setValue("category_id",r.id),I(!1)},children:[r.name,e.jsx(_e,{className:K("ml-auto",r.id===a.value?"opacity-100":"opacity-0")})]},r.id))})]})]})})]}),e.jsx(i,{})]})}}),e.jsx(n,{control:s.control,name:"tools",render:()=>e.jsxs(o,{children:[e.jsx(l,{children:"Tools yang Digunakan"}),e.jsx("div",{className:"text-muted-foreground mb-2 text-sm",children:"Pilih tools yang digunakan pada bootcamp ini."}),e.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Y.map(a=>e.jsx(n,{control:s.control,name:"tools",render:({field:t})=>{var r;return e.jsxs(o,{className:"flex flex-row items-center gap-2 space-y-0",children:[e.jsx(b,{children:e.jsx(oe,{checked:(r=t.value)==null?void 0:r.includes(a.id),onCheckedChange:c=>{var m;c?t.onChange([...t.value??[],a.id]):t.onChange((m=t.value)==null?void 0:m.filter(D=>D!==a.id))}})}),e.jsx(l,{className:"text-sm font-normal",children:a.name})]})}},a.id))}),e.jsx(i,{})]})}),e.jsx(n,{control:s.control,name:"description",render:({field:a})=>e.jsxs(o,{children:[e.jsx(l,{children:"Deskripsi Lengkap"}),e.jsx(P,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan deskripsi lengkap",autoComplete:"off"}),e.jsx(i,{})]})}),e.jsx(n,{control:s.control,name:"thumbnail",render:({field:a})=>e.jsxs(o,{children:[e.jsx(l,{children:"Thumbnail (File Upload)"}),e.jsx("img",{src:Z||"/assets/images/placeholder.png",alt:"Preview Thumbnail",className:"my-1 mt-2 h-40 w-64 rounded border object-cover"}),e.jsx(p,{type:"file",name:a.name,accept:"image/png, image/jpeg, image/jpg",className:ee?"border-red-500 focus-visible:ring-red-500":"",onChange:t=>{var c;const r=((c=t.target.files)==null?void 0:c[0])??null;if(r){if(!["image/png","image/jpeg","image/jpg"].includes(r.type)){N(!0),U("Gambar harus png, jpg, atau jpeg");return}if(r.size>2*1024*1024){N(!0),U("Ukuran file maksimal 2MB!");return}}if(N(!1),a.onChange(r),r){const m=new FileReader;m.onload=D=>{var A;return O((A=D.target)==null?void 0:A.result)},m.readAsDataURL(r)}else O(null)}}),e.jsx(v,{className:"ms-1",children:"Upload Icon. Format: PNG atau JPG Max 2 Mb"}),e.jsx(i,{})]})}),e.jsxs("div",{className:"space-y-4 rounded-md border p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{id:"show-strikethrough",checked:q,onCheckedChange:a=>{X(a),a||s.setValue("strikethrough_price",0)}}),e.jsx(xe,{htmlFor:"show-strikethrough",children:"Aktifkan Harga Coret (Opsional)"})]}),q&&e.jsx(n,{control:s.control,name:"strikethrough_price",render:({field:a})=>e.jsxs(o,{children:[e.jsx(l,{children:"Harga Coret"}),e.jsx(p,{...a,type:"text",placeholder:"Rp 0",value:R.format(a.value||0),onChange:t=>a.onChange(H(t.target.value)),autoComplete:"off"}),e.jsx(v,{children:"Harga asli yang akan ditampilkan tercoret."}),e.jsx(i,{})]})})]}),e.jsx(n,{control:s.control,name:"price",render:({field:a})=>e.jsxs(o,{children:[e.jsxs(l,{children:["Harga ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(p,{...a,type:"text",placeholder:"Masukkan harga kursus",value:R.format(a.value||0),onChange:t=>a.onChange(H(t.target.value)),autoComplete:"off"}),e.jsx(v,{className:"ms-1",children:"Isi 0 untuk harga bootcamp gratis"}),e.jsx(i,{})]})}),e.jsx(n,{control:s.control,name:"batch",render:({field:a})=>e.jsxs(o,{children:[e.jsx(l,{children:"Batch"}),e.jsx(b,{children:e.jsx(p,{type:"number",...a,onChange:t=>a.onChange(parseInt(t.target.value,10)),placeholder:"Masukkan batch",autoComplete:"off"})}),e.jsx(i,{})]})}),e.jsx(n,{control:s.control,name:"quota",render:({field:a})=>e.jsxs(o,{children:[e.jsx(l,{children:"Kuota Peserta"}),e.jsx(b,{children:e.jsx(p,{type:"number",...a,onChange:t=>a.onChange(parseInt(t.target.value,10)),placeholder:"Masukkan kuota peserta",autoComplete:"off"})}),e.jsx(v,{className:"ms-1",children:"Isi 0 untuk kuota tak terbatas"}),e.jsx(i,{})]})}),e.jsx(n,{control:s.control,name:"curriculum",render:({field:a})=>e.jsxs(o,{children:[e.jsx(l,{children:"Kurikulum"}),e.jsx(M,{apiKey:"7apjqdre3ocnt08y5t5zlqyaytlom537pj6qbe0hlxhborco",value:a.value??"",onEditorChange:t=>a.onChange(t),init:{plugins:["anchor","autolink","charmap","codesample","emoticons","image","link","lists","media","searchreplace","table","visualblocks","wordcount"],onboarding:!1,toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat",tinycomments_mode:"embedded",tinycomments_author:"Author name",mergetags_list:[{value:"First.Name",title:"First Name"},{value:"Email",title:"Email"}],height:300}}),e.jsx(i,{})]})}),e.jsx(n,{control:s.control,name:"group_url",render:({field:a})=>e.jsxs(o,{children:[e.jsx(l,{children:"Link Group Peserta"}),e.jsx(P,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan link grup peserta",autoComplete:"off"}),e.jsx(i,{})]})})]}),e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{size:16}),e.jsx("h3",{className:"font-medium",children:"Tanggal dan Informasi Pemateri"})]}),e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row",children:[e.jsx(n,{control:s.control,name:"start_date",render:({field:a})=>{const t=g?new Date(g):void 0;return e.jsxs(o,{className:"flex flex-col",children:[e.jsxs(l,{children:["Waktu Mulai ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-4",children:e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(k,{open:J,onOpenChange:B,children:[e.jsx(C,{asChild:!0,children:e.jsxs(f,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx(T,{})]})}),e.jsx(y,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(F,{mode:"single",selected:a.value?new Date(a.value):void 0,defaultMonth:a.value?new Date(a.value):void 0,disabled:r=>!!t&&r>new Date(t.getFullYear(),t.getMonth(),t.getDate()),captionLayout:"dropdown",onSelect:r=>{if(!r)return;const c=S(r);a.onChange(c);const m=s.getValues("end_date");(!m||new Date(m)<r)&&s.setValue("end_date",c,{shouldDirty:!0,shouldValidate:!0}),B(!1)}})})]})})}),e.jsx(i,{})]})}}),e.jsx(n,{control:s.control,name:"end_date",render:({field:a})=>{const t=h?new Date(h):void 0;return e.jsxs(o,{className:"flex flex-col",children:[e.jsxs(l,{children:["Waktu Selesai ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-4",children:e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(k,{open:W,onOpenChange:E,children:[e.jsx(C,{asChild:!0,children:e.jsxs(f,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx(T,{})]})}),e.jsx(y,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(F,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",disabled:r=>!!t&&r<new Date(t.getFullYear(),t.getMonth(),t.getDate()),onSelect:r=>{if(!r)return;const c=S(r);t&&r<t?a.onChange(S(t)):a.onChange(c),E(!1)}})})]})})}),e.jsx(i,{})]})}})]}),e.jsx(Ce,{value:$,onChange:ae,startDate:h?h.split("T")[0]:void 0,endDate:g?g.split("T")[0]:void 0}),e.jsx(n,{control:s.control,name:"registration_deadline",render:({field:a})=>e.jsxs(o,{className:"flex flex-col",children:[e.jsxs(l,{children:["Deadline Pendaftaran ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(k,{open:Q,onOpenChange:L,children:[e.jsx(C,{asChild:!0,children:e.jsxs(f,{variant:"outline",id:"date",className:"w-32 justify-between font-normal",type:"button",children:[a.value?new Date(a.value).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Pilih tanggal",e.jsx(T,{})]})}),e.jsx(y,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(F,{mode:"single",selected:a.value?new Date(a.value):void 0,captionLayout:"dropdown",onSelect:t=>{const c=(a.value?new Date(a.value):new Date).toTimeString().split(" ")[0],m=t?`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`:"";a.onChange(m&&c?`${m}T${c}`:""),L(!1)}})})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(p,{type:"time",id:"time",step:"60",value:a.value?new Date(a.value).toTimeString().slice(0,5):"10:30",onChange:t=>{const r=a.value?new Date(a.value):new Date,c=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`,m=t.target.value||"00:00";a.onChange(`${c}T${m}:00`)},className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]}),e.jsx(i,{})]})}),e.jsx(n,{control:s.control,name:"host_name",render:({field:a})=>e.jsxs(o,{children:[e.jsx(l,{children:"Nama Pemateri"}),e.jsx(b,{children:e.jsx(p,{placeholder:"Masukkan nama pemateri",...a,value:a.value??"",autoComplete:"off"})}),e.jsx(i,{})]})}),e.jsx(n,{control:s.control,name:"host_description",render:({field:a})=>e.jsxs(o,{children:[e.jsx(l,{children:"Deskripsi Pemateri"}),e.jsx(P,{...a,value:a.value??"",className:"w-full rounded border p-2",placeholder:"Masukkan deskripsi pemateri",autoComplete:"off"}),e.jsx(i,{})]})}),e.jsx(n,{control:s.control,name:"requirements",render:({field:a})=>e.jsxs(o,{children:[e.jsx(l,{children:"Syarat Peserta"}),e.jsx(M,{apiKey:"7apjqdre3ocnt08y5t5zlqyaytlom537pj6qbe0hlxhborco",value:a.value??"",onEditorChange:t=>a.onChange(t),init:{plugins:["anchor","autolink","charmap","codesample","emoticons","image","link","lists","media","searchreplace","table","visualblocks","wordcount"],onboarding:!1,toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat",tinycomments_mode:"embedded",tinycomments_author:"Author name",mergetags_list:[{value:"First.Name",title:"First Name"},{value:"Email",title:"Email"}],height:300}}),e.jsx(i,{})]})}),e.jsx(n,{control:s.control,name:"benefits",render:({field:a})=>e.jsxs(o,{children:[e.jsx(l,{children:"Benefit Mengikuti Bootcamp"}),e.jsx(M,{apiKey:"7apjqdre3ocnt08y5t5zlqyaytlom537pj6qbe0hlxhborco",value:a.value??"",onEditorChange:t=>a.onChange(t),init:{plugins:["anchor","autolink","charmap","codesample","emoticons","image","link","lists","media","searchreplace","table","visualblocks","wordcount"],onboarding:!1,toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat",tinycomments_mode:"embedded",tinycomments_author:"Author name",mergetags_list:[{value:"First.Name",title:"First Name"},{value:"Email",title:"Email"}],height:300}}),e.jsx(i,{})]})})]}),e.jsx(f,{type:"submit",className:"hover:cursor-pointer",children:"Simpan Draft"})]})})]})]})}export{Ba as default};
