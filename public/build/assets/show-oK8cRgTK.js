import{r as d,m as M,j as e,L as T}from"./app-DJanRBGl.js";import{B as i}from"./button-Bifx8rgB.js";import{D as x,a as u,b as F,g as S,c as _,d as E,e as Q}from"./dialog-DaLJLFR-.js";import{I as O}from"./input-C5a_LEF8.js";import{L as B}from"./label-D8bc7pG-.js";import{T as P,a as U,b as h,c as j}from"./tabs-Bi-91fCk.js";import{A as H}from"./admin-layout-B_Qa5VjE.js";import{t as f}from"./index-BMMgGDcw.js";import q from"./create-Cf5bA4Ze.js";import z from"./show-questions-j4KVcGs5.js";import A from"./show-submissions-BHsbdgZi.js";import{P as R}from"./plus-eKmdHEc1.js";import{D as V}from"./download-9QgV4v-M.js";import{c as K}from"./createLucideIcon-C0a0JXVI.js";import{U as g}from"./upload-LwN203H_.js";import{L as W}from"./loader-circle-BCVBd1X3.js";import{f as Z}from"./format-Bp4OdCl_.js";import{i as $}from"./id-Don4TG_0.js";import"./index-BSP57wh6.js";import"./index-CaYodV7O.js";import"./utils-DR74k2Cn.js";import"./index-CgMUabIG.js";import"./index-DUJzXC_7.js";import"./Combination-BCQ0aFO3.js";import"./x-BgLTBkg8.js";import"./sonner-C1sHfgUN.js";import"./breadcrumbs-CDwZdaIA.js";import"./tooltip-DCkcHdKe.js";import"./index-DmWanXx_.js";import"./index-Cmhq_reI.js";import"./floating-ui.react-dom-DPYed0W_.js";import"./index-3EjGfcbu.js";import"./index-D0jymGb1.js";import"./dropdown-menu-BB6Qm6J4.js";import"./index-B-7nvAfE.js";import"./circle-D2lE2dRL.js";import"./user-V0ewPpIP.js";import"./chevron-right-BXsuuH2D.js";import"./app-sidebar-header-BSBfksQi.js";import"./chevrons-up-down-ZDmbQ5Jj.js";import"./monitor-play-BqQuA5LE.js";import"./banknote-B4h5PG5L.js";import"./dollar-sign-CpDmjeLc.js";import"./input-error-DPRj4YbU.js";import"./radio-group-D0_ox5pY.js";import"./select-UDo__-Yq.js";import"./index-B3-HGKk4.js";import"./chevron-down-ysu_lXVV.js";import"./chevron-up-C27pEBqf.js";import"./textarea-DIFTQ3aq.js";import"./trash-UkGvvz4U.js";import"./delete-dialog-CV6w1Hbu.js";import"./alert-dialog-CdCAQF61.js";import"./badge-p-irgz1n.js";import"./table-BC3Kt0Jl.js";import"./edit-CoOaxZyM.js";import"./square-pen-_NCIehL_.js";import"./circle-check-big-b17XwAP7.js";import"./circle-x-J-yu6vTC.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],J=K("FileUp",G);function is({course:r,quiz:s,submissions:b=[],flash:t}){const[N,c]=d.useState(!1),[v,l]=d.useState(!1),{data:o,setData:y,post:D,processing:m,errors:a,reset:w}=M({quiz_id:s.id,file:null}),k=[{title:"Kelas Online",href:route("courses.index")},{title:r.title,href:route("courses.show",{course:r.id})},{title:s.title,href:route("quizzes.show",{course:r.id,quiz:s.id})}],C=n=>{var p;const L=((p=n.target.files)==null?void 0:p[0])||null;y("file",L)},I=n=>{n.preventDefault(),D(route("questions.import"),{onSuccess:()=>{l(!1),w()},onError:()=>{}})};return d.useEffect(()=>{t!=null&&t.success&&f.success(t.success),t!=null&&t.error&&f.error(t.error)},[t]),e.jsxs(H,{breadcrumbs:k,children:[e.jsx(T,{title:"Detail Quiz"}),e.jsxs("div",{className:"px-4 py-4 md:px-6",children:[e.jsx("h1",{className:"mb-4 text-2xl font-semibold",children:`Detail ${r.title}`}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-6",children:[e.jsxs(P,{defaultValue:"question",className:"order-last lg:order-first lg:col-span-2",children:[e.jsxs(U,{children:[e.jsx(h,{value:"question",children:"Daftar Pertanyaan"}),e.jsx(h,{value:"submission",children:"Riwayat Pengerjaan"})]}),e.jsx(j,{value:"question",children:e.jsx(z,{questions:s.questions})}),e.jsx(j,{value:"submission",children:e.jsx(A,{submissions:b})})]}),e.jsxs("div",{className:"order-first lg:order-last",children:[e.jsx("h2",{className:"my-2 text-lg font-medium",children:"Informasi Quiz"}),e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsxs(x,{open:N,onOpenChange:c,children:[e.jsx(u,{asChild:!0,children:e.jsxs(i,{className:"w-full hover:cursor-pointer",children:["Tambah Pertanyaan",e.jsx(R,{})]})}),e.jsx(q,{setOpen:c,quizId:s.id})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[e.jsx(i,{variant:"outline",asChild:!0,className:"w-full border-blue-200 bg-blue-50 text-blue-600 hover:bg-blue-100 hover:text-blue-700",children:e.jsxs("a",{href:"/assets/templates/template_import_soal.xlsx",className:"",children:[e.jsx(V,{className:"h-4 w-4"}),"Template"]})}),e.jsxs(x,{open:v,onOpenChange:l,children:[e.jsx(u,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"w-full",children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Import"]})}),e.jsx(F,{className:"sm:max-w-[425px]",children:e.jsxs("form",{onSubmit:I,children:[e.jsxs(S,{children:[e.jsx(_,{children:"Import Soal dari Excel"}),e.jsxs(E,{children:['Upload file Excel (.xlsx, .xls, .csv) yang berisi data soal untuk diimport ke dalam quiz "',s.title,'".']})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(B,{htmlFor:"file",children:"File Excel"}),e.jsx(O,{id:"file",type:"file",accept:".xlsx,.xls,.csv",onChange:C,className:"file:rounded file:border-0 file:bg-blue-50 file:px-2 hover:cursor-pointer hover:file:bg-blue-100"}),(a==null?void 0:a.file)&&e.jsx("p",{className:"text-sm text-red-500",children:a.file})]}),o.file&&e.jsxs("div",{className:"rounded-md bg-green-50 p-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:"mr-2 h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:o.file.name})]}),e.jsx("p",{className:"mt-1 text-xs text-green-600",children:"File siap untuk diimport"})]})]}),e.jsxs(Q,{children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:m,children:"Batal"}),e.jsx(i,{type:"submit",disabled:m||!o.file,children:m?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengimport..."]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),"Import Soal"]})})]})]})})]})]}),e.jsx("h3",{className:"mt-4 text-lg font-semibold",children:s.title}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s.instructions?s.instructions:"Belum ada instruksi yang ditampilkan ke peserta."}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Batas Waktu:"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.time_limit," menit"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Nilai Lulus:"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.passing_score," poin"]})]})]})]})]})]}),e.jsx("div",{className:"mt-4 rounded-lg border p-4",children:e.jsxs("h3",{className:"text-muted-foreground text-center text-sm",children:["Dibuat pada : ",Z(new Date(s.created_at),"dd MMMM yyyy HH:mm",{locale:$})]})})]})]})}export{is as default};
