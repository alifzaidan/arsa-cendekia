import{r as a,j as e,$ as j}from"./app-DJanRBGl.js";import{c}from"./utils-DR74k2Cn.js";import{u as I}from"./use-motion-value-Cn_PATF3.js";import{m as C}from"./proxy-DvaMOcZG.js";import{C as E}from"./chevron-left-_KMMEj_d.js";import{C as S}from"./chevron-right-BXsuuH2D.js";import"./createLucideIcon-C0a0JXVI.js";const y=a.createContext(void 0);function h(){const s=a.useContext(y);if(!s)throw new Error("useCarousel must be used within an CarouselProvider");return s}function D({children:s,initialIndex:r=0,onIndexChange:o,disableDrag:t=!1}){const[n,l]=a.useState(r),[i,m]=a.useState(0),x=u=>{l(u),o==null||o(u)};return a.useEffect(()=>{l(r)},[r]),e.jsx(y.Provider,{value:{index:n,setIndex:x,itemsCount:i,setItemsCount:m,disableDrag:t},children:s})}function P({children:s,className:r,initialIndex:o=0,index:t,onIndexChange:n,disableDrag:l=!1}){const[i,m]=a.useState(o),x=t!==void 0,u=x?t:i,f=d=>{x||m(d),n==null||n(d)};return e.jsx(D,{initialIndex:u,onIndexChange:f,disableDrag:l,children:e.jsx("div",{className:c("group/hover relative",r),children:e.jsx("div",{className:"overflow-hidden",children:s})})})}function R({className:s,classNameButton:r,alwaysShow:o}){const{index:t,setIndex:n,itemsCount:l}=h();return e.jsxs("div",{className:c("pointer-events-none absolute left-[5%] top-1/2 flex w-[90%] -translate-y-1/2 justify-between px-2",s),children:[e.jsx("button",{type:"button","aria-label":"Previous slide",className:c("pointer-events-auto h-fit w-fit rounded-full bg-zinc-50 p-2 transition-opacity duration-300 dark:bg-zinc-950",o?"opacity-100":"opacity-0 group-hover/hover:opacity-100",o?"disabled:opacity-40":"group-hover/hover:disabled:opacity-40",r),disabled:t===0,onClick:()=>{t>0&&n(t-1)},children:e.jsx(E,{className:"stroke-zinc-600 dark:stroke-zinc-50",size:16})}),e.jsx("button",{type:"button",className:c("pointer-events-auto h-fit w-fit rounded-full bg-zinc-50 p-2 transition-opacity duration-300 dark:bg-zinc-950",o?"opacity-100":"opacity-0 group-hover/hover:opacity-100",o?"disabled:opacity-40":"group-hover/hover:disabled:opacity-40",r),"aria-label":"Next slide",disabled:t+1===l,onClick:()=>{t<l-1&&n(t+1)},children:e.jsx(S,{className:"stroke-zinc-600 dark:stroke-zinc-50",size:16})})]})}function $({className:s,classNameButton:r}){const{index:o,itemsCount:t,setIndex:n}=h();return e.jsx("div",{className:c("absolute bottom-4 z-10 flex w-full items-center justify-start ps-4",s),children:e.jsx("div",{className:"flex space-x-2",children:Array.from({length:t},(l,i)=>e.jsx("button",{type:"button","aria-label":`Go to slide ${i+1}`,onClick:()=>n(i),className:c("h-2 w-2 rounded-full transition-opacity duration-300 hover:cursor-pointer",o===i?"bg-secondary dark:bg-secondary":"bg-secondary/50 dark:bg-secondary/50",r)},i))})})}function A({children:s,className:r,transition:o}){const{index:t,setIndex:n,setItemsCount:l,disableDrag:i}=h(),[m,x]=a.useState(1),u=I(0),f=a.useRef(null),d=a.Children.count(s);a.useEffect(()=>{if(!f.current)return;const p={root:f.current,threshold:.5},g=new IntersectionObserver(v=>{const k=v.filter(z=>z.isIntersecting).length;x(k)},p),N=f.current.children;return Array.from(N).forEach(v=>g.observe(v)),()=>g.disconnect()},[s,l]),a.useEffect(()=>{d&&l(d)},[d,l]);const w=()=>{const p=u.get();p<=-10&&t<d-1?n(t+1):p>=10&&t>0&&n(t-1)};return e.jsx(C.div,{drag:i?!1:"x",dragConstraints:i?void 0:{left:0,right:0},dragMomentum:i?void 0:!1,style:{x:i?void 0:u},animate:{translateX:`-${t*(100/m)}%`},onDragEnd:i?void 0:w,transition:o||{damping:18,stiffness:90,type:"spring",duration:.2},className:c("flex items-center",!i&&"cursor-grab active:cursor-grabbing",r),ref:f,children:s})}function b({children:s,className:r}){return e.jsx(C.div,{className:c("w-full min-w-0 shrink-0 grow-0 overflow-hidden",r),children:s})}function G(){const[s,r]=a.useState(0),o=4;return a.useEffect(()=>{const t=setInterval(()=>{r(n=>(n+1)%o)},5e3);return()=>clearInterval(t)},[]),e.jsx("section",{className:"relative w-full pt-4",children:e.jsxs(P,{index:s,onIndexChange:r,disableDrag:!0,children:[e.jsxs(A,{children:[e.jsx(b,{className:"px-4",children:e.jsx("a",{href:"#program-kami",children:e.jsx("img",{src:"/assets/images/carousel-1.webp",alt:"Slide 1",loading:"lazy",className:"mx-auto w-full max-w-7xl rounded-xl object-cover shadow-lg"})})}),e.jsx(b,{className:"px-4",children:e.jsx(j,{href:route("course.index"),children:e.jsx("img",{src:"/assets/images/carousel-2.webp",alt:"Slide 2",loading:"lazy",className:"mx-auto w-full max-w-7xl rounded-xl object-cover shadow-lg"})})}),e.jsx(b,{className:"px-4",children:e.jsx(j,{href:route("webinar.index"),children:e.jsx("img",{src:"/assets/images/carousel-4.webp",alt:"Slide 4",loading:"lazy",className:"mx-auto w-full max-w-7xl rounded-xl object-cover shadow-lg"})})})]}),e.jsx(R,{}),e.jsx("div",{className:"mx-auto max-w-7xl px-4",children:e.jsx($,{})})]})})}export{G as default};
