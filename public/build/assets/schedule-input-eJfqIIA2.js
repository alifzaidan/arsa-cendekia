import{r as D,j as e}from"./app-0I1QzVTg.js";import{B as f}from"./button-D2ZpcnoY.js";import{C as M}from"./calendar-C7CkyaD-.js";import{c as P}from"./form-B8Qa-gsK.js";import{P as Y,a as k,b as I}from"./popover-OVqhZvMy.js";import{c as w}from"./utils-liWpcwDK.js";import{C as z}from"./calendar-ChXQrJJ2.js";import{X as L}from"./x-C19WkH_u.js";import{P as T}from"./plus-DnXklWU2.js";import"./index-Bota6Y3-.js";import"./index-57D5-Vr4.js";import"./format-Bp4OdCl_.js";import"./chevron-left-B3Wkr27h.js";import"./createLucideIcon-CstU9H3f.js";import"./chevron-right-c3YFH7gb.js";import"./chevron-down-B9nJkVIc.js";import"./label-B5pGucUU.js";import"./index-uHisoZSR.js";import"./floating-ui.react-dom-BJinGOXu.js";import"./Combination-DeKqWJgp.js";function re({value:S,onChange:m,startDate:x,endDate:j}){const[d,p]=D.useState(S),[_,C]=D.useState({});function g(n){if(!n)return;const[t,r,s]=n.split("-").map(u=>parseInt(u,10));if(!(!t||!r||!s))return new Date(t,r-1,s)}function y(n){if(!n)return null;const[t,r,s]=n.split("-").map(c=>parseInt(c,10)),a=new Date(t,(r||1)-1,s||1).getDay();return[{value:"minggu",label:"Minggu"},{value:"senin",label:"Senin"},{value:"selasa",label:"Selasa"},{value:"rabu",label:"Rabu"},{value:"kamis",label:"Kamis"},{value:"jumat",label:"Jumat"},{value:"sabtu",label:"Sabtu"}][a]??null}function h(n,t,r){const s=d.map((u,a)=>{if(a!==n)return u;if(t==="schedule_date"){const i=y(r);return{...u,schedule_date:r,day:(i==null?void 0:i.value)??""}}return{...u,[t]:r}});p(s),m(s)}function N(){const n=[...d,{schedule_date:"",day:"",start_time:"07:00",end_time:"10:00"}];p(n),m(n)}function O(n){const t=d.filter((r,s)=>s!==n);p(t),m(t)}function v(n,t){C(r=>({...r,[n]:t}))}const l=x?g(x):void 0,o=j?g(j):void 0;return e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"Jadwal Bootcamp"}),e.jsx("div",{className:"text-muted-foreground mb-2 text-sm",children:l&&o?e.jsxs(e.Fragment,{children:["Pilih tanggal dalam rentang:"," ",e.jsx("span",{className:"font-medium",children:l.toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})})," ","-"," ",e.jsx("span",{className:"font-medium",children:o.toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})})]}):"Tentukan tanggal mulai dan selesai bootcamp terlebih dahulu"}),d.map((n,t)=>{const r=n.schedule_date?y(n.schedule_date):null,s=g(n.schedule_date),u=_[t]||!1;return e.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[e.jsxs(Y,{open:u,onOpenChange:a=>v(t,a),children:[e.jsx(k,{asChild:!0,children:e.jsx(f,{variant:"outline",type:"button",disabled:!l||!o,className:w("w-36 justify-between",!s&&"text-muted-foreground",(!l||!o)&&"cursor-not-allowed opacity-50"),children:e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsx(z,{size:16}),s?s.toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):!l||!o?"Set tanggal bootcamp":"Pilih tanggal"]})})}),e.jsx(I,{className:"w-auto p-0",align:"start",children:e.jsx(M,{mode:"single",selected:s,defaultMonth:s||l,captionLayout:"dropdown",disabled:a=>{if(!l||!o)return!0;const i=new Date(a.getFullYear(),a.getMonth(),a.getDate()),c=new Date(l.getFullYear(),l.getMonth(),l.getDate()),b=new Date(o.getFullYear(),o.getMonth(),o.getDate());return i<c||i>b},onSelect:a=>{if(!a||!l||!o)return;const i=new Date(a.getFullYear(),a.getMonth(),a.getDate()),c=new Date(l.getFullYear(),l.getMonth(),l.getDate()),b=new Date(o.getFullYear(),o.getMonth(),o.getDate());if(i>=c&&i<=b){const F=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`;h(t,"schedule_date",F)}v(t,!1)}})})]}),e.jsx("span",{className:w("inline-flex items-center rounded-full border px-3 py-1 text-sm",r?"border-blue-200 bg-blue-50 text-blue-700":"border-zinc-200 bg-zinc-50 text-zinc-600"),title:"Terisi otomatis dari tanggal",children:r?r.label:"Pilih tgl"}),e.jsx("input",{type:"time",value:n.start_time,onChange:a=>h(t,"start_time",a.target.value),className:"bg-background w-28 rounded-lg border px-3 py-1.5"}),e.jsx("span",{children:"-"}),e.jsx("input",{type:"time",value:n.end_time,onChange:a=>h(t,"end_time",a.target.value),className:"bg-background w-28 rounded-lg border px-3 py-1.5"}),e.jsx(f,{type:"button",variant:"destructive",size:"icon",onClick:()=>O(t),children:e.jsx(L,{})})]},t)}),e.jsx(f,{type:"button",onClick:N,className:"mt-1 block hover:cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{})," Tambah Jadwal"]})})]})}export{re as default};
