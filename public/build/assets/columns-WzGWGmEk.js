import{j as e,$ as c,S as u}from"./app-C0K1I_jK.js";import{D as t}from"./data-table-column-header-CKw_2j5A.js";import{D as h}from"./delete-dialog-yPWaDe6K.js";import{B as r}from"./badge-C28JjXQI.js";import{B as a}from"./button-C0f-v_s_.js";import{C as d}from"./checkbox-gAg10rio.js";import{T as n,a as l,b as o}from"./tooltip-Djw6bv58.js";import{U as g}from"./users-DhLW1BKd.js";import{C as p}from"./calendar-BUGtfYDp.js";import{F as j}from"./folder-CoXxffaP.js";import{S as f}from"./square-pen-DK1JKXde.js";import{T as N}from"./trash-4eczIUPK.js";import{f as m}from"./format-Bp4OdCl_.js";import{i as x}from"./id-Don4TG_0.js";import"./utils-CdAyi53O.js";import"./dropdown-menu-B9Lv5--e.js";import"./index-BZY2Yx9m.js";import"./index-CsZu0GWq.js";import"./index-KzWdGhLx.js";import"./floating-ui.react-dom-BGNFrYFh.js";import"./index-CSVoZn40.js";import"./index-D1pJEIZI.js";import"./Combination-BOkQOgPX.js";import"./circle-B3o1emxb.js";import"./createLucideIcon-DWBoakhq.js";import"./check-DbTA4r3O.js";import"./chevrons-up-down-DibPyUO8.js";import"./eye-off-CcVSdKVx.js";import"./alert-dialog-de0vtAMA.js";import"./index-7sZO0JmH.js";import"./index-ckKaZFui.js";import"./index-f6q-RnpV.js";import"./index-DjYZhB_P.js";import"./index-DmObuSOr.js";const v=s=>s?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s):"-",y=s=>{if(!s.is_active)return e.jsx(r,{variant:"destructive",children:"Nonaktif"});if(!s.is_valid)return e.jsx(r,{variant:"secondary",children:"Kedaluwarsa"});const i=new Date;return new Date(s.starts_at)>i?e.jsx(r,{variant:"outline",children:"Belum Dimulai"}):e.jsx(r,{variant:"default",className:"bg-green-600",children:"Aktif"})},b=s=>s==="percentage"?e.jsx(r,{variant:"outline",className:"border-blue-200 bg-blue-50 text-blue-700",children:"Persentase"}):e.jsx(r,{variant:"outline",className:"border-green-200 bg-green-50 text-green-700",children:"Nominal"});function D({discountCode:s}){const i=()=>{u.delete(route("discount-codes.destroy",s.id))};return e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsxs(n,{children:[e.jsx(l,{asChild:!0,children:e.jsx(a,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(c,{href:route("discount-codes.show",s.id),children:e.jsx(j,{className:"size-4"})})})}),e.jsx(o,{children:e.jsx("p",{children:"Detail Kode Diskon"})})]}),e.jsxs(n,{children:[e.jsx(l,{asChild:!0,children:e.jsx(a,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(c,{href:route("discount-codes.edit",s.id),children:e.jsx(f,{className:"size-4"})})})}),e.jsx(o,{children:e.jsx("p",{children:"Edit Kode Diskon"})})]}),e.jsxs(n,{children:[e.jsx(l,{asChild:!0,children:e.jsx("div",{children:e.jsx(h,{trigger:e.jsxs(a,{variant:"link",size:"icon",className:"size-8 text-red-500 hover:cursor-pointer",children:[e.jsx(N,{}),e.jsx("span",{className:"sr-only",children:"Hapus Kode Diskon"})]}),title:"Apakah Anda yakin ingin menghapus kode diskon ini?",itemName:s.code,onConfirm:i})})}),e.jsx(o,{children:e.jsx("p",{children:"Hapus Kode Diskon"})})]})]})}const ae=[{id:"select",header:({table:s})=>e.jsx(d,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:i=>s.toggleAllPageRowsSelected(!!i),"aria-label":"Select all"}),cell:({row:s})=>e.jsx(d,{checked:s.getIsSelected(),onCheckedChange:i=>s.toggleSelected(!!i),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"no",header:"No",cell:({row:s})=>{const i=s.index+1;return e.jsx("div",{className:"font-medium",children:i})}},{accessorKey:"code",header:({column:s})=>e.jsx(t,{column:s,title:"Kode"}),cell:({row:s})=>e.jsx(c,{href:route("discount-codes.show",s.original.id),className:"text-primary font-medium hover:underline",children:e.jsx(r,{className:"bg-blue-50 font-mono text-base font-bold text-blue-600",children:s.original.code})})},{accessorKey:"name",header:({column:s})=>e.jsx(t,{column:s,title:"Nama"}),cell:({row:s})=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.original.name}),s.original.description&&e.jsx("div",{className:"text-muted-foreground text-sm",children:s.original.description})]})},{accessorKey:"type",header:({column:s})=>e.jsx(t,{column:s,title:"Jenis"}),cell:({row:s})=>e.jsxs("div",{className:"flex flex-col gap-1",children:[b(s.original.type),e.jsx("div",{className:"text-lg font-semibold",children:s.original.formatted_value})]})},{accessorKey:"usage",header:({column:s})=>e.jsx(t,{column:s,title:"Penggunaan"}),cell:({row:s})=>{const i=s.original;return e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(g,{className:"h-3 w-3"}),e.jsx("span",{className:"font-medium",children:i.used_count}),e.jsxs("span",{className:"text-muted-foreground",children:["/ ",i.usage_limit||"âˆž"]})]}),i.usage_limit_per_user&&e.jsxs("div",{className:"text-muted-foreground text-xs",children:["Max ",i.usage_limit_per_user,"/user"]})]})}},{accessorKey:"validity",header:({column:s})=>e.jsx(t,{column:s,title:"Periode"}),cell:({row:s})=>{const i=s.original;return e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(p,{className:"h-3 w-3"}),e.jsx("span",{children:m(new Date(i.starts_at),"dd MMM yyyy",{locale:x})})]}),e.jsxs("div",{className:"text-muted-foreground text-xs",children:["s/d ",m(new Date(i.expires_at),"dd MMM yyyy",{locale:x})]}),i.minimum_amount&&e.jsxs("div",{className:"text-xs text-orange-600",children:["Min: ",v(i.minimum_amount)]})]})}},{accessorKey:"status",header:({column:s})=>e.jsx(t,{column:s,title:"Status"}),cell:({row:s})=>y(s.original)},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"Aksi"}),cell:({row:s})=>e.jsx(D,{discountCode:s.original})}];export{ae as columns};
