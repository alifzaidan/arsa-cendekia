import{r as p,m as C,j as e}from"./app-k8zswjN4.js";import{I as r}from"./input-error-D_1uxFxj.js";import{B as d}from"./button-DXavOchq.js";import{b as y,c as N,d as _,e as A,f as w}from"./dialog-BuCqyxzX.js";import{I as i}from"./input-Dxh7gntF.js";import{L as l}from"./label-C9tmqixz.js";import"./utils-CkV0Qb-V.js";import"./index-yeKsPfmp.js";import"./index-pHOxZwLY.js";import"./index-pXs-r0Ho.js";import"./index-D6V9crY2.js";import"./Combination-BrdjsB_W.js";import"./x-Brw5WuUb.js";import"./createLucideIcon-D-iNy-Um.js";function D(c=8){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let f="";for(let m=0;m<c;m++)f+=n.charAt(Math.floor(Math.random()*n.length));return f}function J({setOpen:c}){const n=p.useRef(null),f=p.useRef(null),m=p.useRef(null),h=p.useRef(null),{data:s,setData:o,submit:x,processing:g,reset:j,errors:t,clearErrors:b}=C({name:"",email:"",phone_number:"",affiliate_code:D(),affiliate_status:"active",commission:0,password:""}),v=a=>{a.preventDefault(),x("post",route("affiliates.store"),{preserveScroll:!0,onSuccess:()=>{c(!1),j(),b()},onError:()=>{var u;return(u=n.current)==null?void 0:u.focus()}})};return e.jsxs(y,{children:[e.jsx(N,{children:"Tambah Affiliate Baru"}),e.jsx(_,{children:"Silakan masukkan data affiliate baru yang ingin Anda tambahkan."}),e.jsxs("form",{className:"space-y-6",onSubmit:v,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"name",className:"sr-only",children:"Nama Affiliate"}),e.jsx(i,{id:"name",type:"text",name:"name",ref:n,value:s.name,onChange:a=>{o("name",a.target.value)},placeholder:"Nama Affiliate",autoComplete:"off"}),e.jsx(r,{message:t.name}),e.jsx(l,{htmlFor:"email",className:"sr-only",children:"Email"}),e.jsx(i,{id:"email",type:"email",name:"email",ref:f,value:s.email,onChange:a=>o("email",a.target.value),placeholder:"Email",autoComplete:"off"}),e.jsx(r,{message:t.email}),e.jsx(l,{htmlFor:"phone_number",className:"sr-only",children:"Nomor Telepon"}),e.jsx(i,{id:"phone_number",type:"text",name:"phone_number",ref:m,value:s.phone_number,onChange:a=>{o("phone_number",a.target.value),o("password",a.target.value)},placeholder:"Nomor Telepon",autoComplete:"off"}),e.jsx(r,{message:t.phone_number}),e.jsx(l,{htmlFor:"affiliate_code",className:"sr-only",children:"Kode Afiliasi"}),e.jsx(i,{id:"affiliate_code",type:"text",name:"affiliate_code",value:s.affiliate_code,onChange:a=>{o("affiliate_code",a.target.value)},placeholder:"Kode Afiliasi",autoComplete:"off",disabled:!0}),e.jsx(r,{message:t.affiliate_code}),e.jsx(l,{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx(i,{id:"password",type:"text",name:"password",ref:m,value:s.password,placeholder:"Password",autoComplete:"off",disabled:!0}),e.jsx(r,{message:t.password}),e.jsx(l,{htmlFor:"commission",className:"text-xs text-gray-500",children:"Komisi (%) - Komisi yang akan diterima mentor dari setiap transaksi"}),e.jsx(i,{id:"commission",type:"number",name:"commission",ref:h,value:s.commission,onChange:a=>{o("commission",Number(a.target.value))},placeholder:"Komisi",autoComplete:"off"}),e.jsx(r,{message:t.commission})]}),e.jsxs(A,{className:"gap-2",children:[e.jsx(w,{asChild:!0,children:e.jsx(d,{variant:"secondary",onClick:()=>c(!1),className:"hover:cursor-pointer",children:"Batal"})}),e.jsx(d,{disabled:g,asChild:!0,className:"hover:cursor-pointer",children:e.jsx("button",{type:"submit",children:"Tambah Affiliate"})})]})]})]})}export{J as default};
